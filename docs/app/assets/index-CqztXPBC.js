const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminPanel-DBbMfP2O.js","assets/charts-vendor-OydaLZmL.js","assets/react-vendor-C0Dkio3Y.js","assets/icons-vendor-S4k_EFRo.js","assets/pdf-vendor-CtlUXWgY.js"])))=>i.map(i=>d[i]);
import{r as na,a as da,g as ca}from"./react-vendor-C0Dkio3Y.js";import{r as c,R as Ie,P as ma,a as xa,C as hs,T as qe,L as bs,B as Ge,b as Qe,X as We,Y as Xe,c as Te,d as pa}from"./charts-vendor-OydaLZmL.js";import{h as Et,E as Pt,a as ga}from"./pdf-vendor-CtlUXWgY.js";import{U as es,D as be,P as ft,F as ts,a as ss,T as vt,X as yt,b as _t,L as Ht,c as ua,E as ha,d as ba,C as fa,e as va,f as ya,H as ja,g as Gt,B as nt,h as Ze,i as Qt,j as dt,A as wa,k as et,l as Ft,m as Tt,n as Na,o as Wt,p as Xt,S as Da}from"./icons-vendor-S4k_EFRo.js";(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))pe(C);new MutationObserver(C=>{for(const F of C)if(F.type==="childList")for(const X of F.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&pe(X)}).observe(document,{childList:!0,subtree:!0});function R(C){const F={};return C.integrity&&(F.integrity=C.integrity),C.referrerPolicy&&(F.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?F.credentials="include":C.crossOrigin==="anonymous"?F.credentials="omit":F.credentials="same-origin",F}function pe(C){if(C.ep)return;C.ep=!0;const F=R(C);fetch(C.href,F)}})();var Zt={exports:{}},Lt={};var fs;function Ra(){if(fs)return Lt;fs=1;var w=na(),y=Symbol.for("react.element"),R=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,C=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F={key:!0,ref:!0,__self:!0,__source:!0};function X(Z,f,P){var S,ie={},ge=null,ye=null;P!==void 0&&(ge=""+P),f.key!==void 0&&(ge=""+f.key),f.ref!==void 0&&(ye=f.ref);for(S in f)pe.call(f,S)&&!F.hasOwnProperty(S)&&(ie[S]=f[S]);if(Z&&Z.defaultProps)for(S in f=Z.defaultProps,f)ie[S]===void 0&&(ie[S]=f[S]);return{$$typeof:y,type:Z,key:ge,ref:ye,props:ie,_owner:C.current}}return Lt.Fragment=R,Lt.jsx=X,Lt.jsxs=X,Lt}var vs;function $a(){return vs||(vs=1,Zt.exports=Ra()),Zt.exports}var e=$a(),Ut={},ys;function Sa(){if(ys)return Ut;ys=1;var w=da();return Ut.createRoot=w.createRoot,Ut.hydrateRoot=w.hydrateRoot,Ut}var Ca=Sa();const ka=ca(Ca),Fa=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),Q=Fa?"http://localhost:8001/api":"/api",Ta=()=>{const[w,y]=c.useState([]),[R,pe]=c.useState(new Set),[C,F]=c.useState(!1),[X,Z]=c.useState(null),[f,P]=c.useState({name:"",email:"",phone:"",address:"",documentType:"cpf",cpf:"",cnpj:""}),[S,ie]=c.useState({}),[ge,ye]=c.useState(!1),ne=c.useRef(null),[re,K]=c.useState(!1),[ee,te]=c.useState(!0),[fe,tt]=c.useState(!0),[de,ce]=c.useState({field:null,direction:"asc"}),[V,ve]=c.useState({name:"",email:"",phone:""});c.useEffect(()=>{(async()=>{try{const M=await(await fetch(`${Q}/clients`)).json();M.success&&y(M.data)}catch{}})()},[]),c.useEffect(()=>{const o=document?.body;if(o)return ge||C?o.classList.add("modal-open"):o.classList.remove("modal-open"),()=>{o.classList.remove("modal-open")}},[ge,C]);const Le=o=>{let u="asc";de.field===o&&de.direction==="asc"&&(u="desc"),ce({field:o,direction:u})},Ve=o=>de.field!==o?e.jsx("span",{className:"text-gray-400",children:"‚Üï"}):de.direction==="asc"?e.jsx("span",{className:"text-amber-600",children:"‚Üë"}):e.jsx("span",{className:"text-amber-600",children:"‚Üì"}),$e=c.useMemo(()=>{let o=[...w];return V.name&&(o=o.filter(u=>u.name.toLowerCase().includes(V.name.toLowerCase()))),V.email&&(o=o.filter(u=>u.email.toLowerCase().includes(V.email.toLowerCase()))),V.phone&&(o=o.filter(u=>u.phone.includes(V.phone))),de.field&&o.sort((u,M)=>{let U=u[de.field],W=M[de.field];return typeof U=="string"&&(U=U.toLowerCase(),W=String(W).toLowerCase()),U<W?de.direction==="asc"?-1:1:U>W?de.direction==="asc"?1:-1:0}),o},[w,V,de]),Y=()=>{R.size===w.length?pe(new Set):pe(new Set(w.map(o=>o.id)))},Ee=o=>{pe(u=>{const M=new Set(u);return M.has(o)?M.delete(o):M.add(o),M})},jt=()=>ve({name:"",email:"",phone:""}),Ue=()=>{const o={};return f.name.trim()||(o.name="Campo obrigat√≥rio"),f.email.trim()||(o.email="Campo obrigat√≥rio"),f.phone.trim()||(o.phone="Campo obrigat√≥rio"),f.address.trim()||(o.address="Campo obrigat√≥rio"),f.documentType==="cpf"&&!f.cpf.trim()?o.cpf="Campo obrigat√≥rio":f.documentType==="cnpj"&&!f.cnpj.trim()&&(o.cnpj="Campo obrigat√≥rio"),ie(o),Object.keys(o).length===0},A=async()=>{if(!Ue())return;const o={id:X?.id,name:f.name,email:f.email,phone:f.phone,address:f.address,cpf:f.cpf||void 0,cnpj:f.cnpj||void 0};try{if(X){const M=await(await fetch(`${Q}/clients/${X.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();M.success&&y(U=>U.map(W=>W.id===X.id?M.data:W))}else{const M=await(await fetch(`${Q}/clients`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();M.success&&y(U=>[M.data,...U])}F(!1),Z(null),P({name:"",email:"",phone:"",address:"",documentType:"cpf",cpf:"",cnpj:""}),ie({})}catch(u){console.error("Erro ao salvar:",u)}},Se=async o=>{try{(await(await fetch(`${Q}/clients/${o}`,{method:"DELETE"})).json()).success&&y(U=>U.filter(W=>W.id!==o))}catch{}},wt=async()=>{try{const o=Array.from(R);await fetch(`${Q}/clients`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:o})}),y(u=>u.filter(M=>!R.has(M.id))),pe(new Set)}catch{}},Ce=()=>{window.open(`${Q}/modelo/clients`,"_blank")},st=async o=>{const u=o.target.files?.[0];if(!u)return;const M=new FormData;M.append("file",u),M.append("type","clients");try{const W=await(await fetch(`${Q}/import`,{method:"POST",body:M})).json();W.success&&(y(_e=>[...W.data,..._e]),ye(!1))}catch{}},at=async()=>{try{const u=await(await fetch(`${Q}/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"clients",data:w})})).blob(),M=URL.createObjectURL(u),U=document.createElement("a");U.href=M,U.download=`clients_${new Date().toISOString().split("T")[0]}.xlsx`,U.click(),URL.revokeObjectURL(M)}catch{}},Nt=async()=>{try{K(!1);const o=ee?$e:w;if(o.length===0){alert("N√£o h√° clientes para exportar!");return}let u=o.length,M=0,U=0,W=0,_e=0,Je=0,At=0,Pe=0,Jt=0;fe&&o.forEach(q=>{q.cpf&&M++,q.cnpj&&U++,q.email&&q.email.trim()?W++:_e++,q.phone&&q.phone.trim()?Je++:At++,q.address&&q.address.trim()?Pe++:Jt++});const ue=document.createElement("div");ue.style.position="absolute",ue.style.left="-9999px",ue.style.top="-9999px",ue.style.width="800px",ue.style.backgroundColor="white",ue.style.padding="20px",ue.style.fontFamily="Arial, sans-serif";let Ne="Todos os clientes";if(ee){const q=[];V.name&&q.push(`Nome: ${V.name}`),V.email&&q.push(`Email: ${V.email}`),V.phone&&q.push(`Telefone: ${V.phone}`),q.length>0?Ne=`Clientes filtrados: ${q.join(", ")}`:Ne="Todos os clientes (sem filtros ativos)"}let Ye=`
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #f59e0b; font-size: 28px; margin: 0; font-weight: bold;">ALYA VELAS</h1>
          <h2 style="color: #374151; font-size: 24px; margin: 10px 0; font-weight: bold;">Relat√≥rio de Clientes</h2>
          <p style="color: #6b7280; font-size: 14px; margin: 5px 0;">${Ne}</p>
          <p style="color: #6b7280; font-size: 14px; margin: 0;">Gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}</p>
        </div>
      `;fe&&(Ye+=`
          <div style="margin-bottom: 30px;">
            <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìä Resumo Estat√≠stico</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
              <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Total de Clientes</div>
                <div style="font-size: 18px; font-weight: bold; color: #d97706;">${u}</div>
              </div>
              <div style="background: #eff6ff; padding: 15px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                <div style="font-weight: bold; color: #3b82f6; margin-bottom: 5px;">Clientes com CPF</div>
                <div style="font-size: 18px; font-weight: bold; color: #2563eb;">${M}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Clientes com CNPJ</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">${U}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Com Email</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">${W}</div>
              </div>
              <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Sem Email</div>
                <div style="font-size: 18px; font-weight: bold; color: #dc2626;">${_e}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Com Telefone</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">${Je}</div>
              </div>
              <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Sem Telefone</div>
                <div style="font-size: 18px; font-weight: bold; color: #dc2626;">${At}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Com Endere√ßo</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">${Pe}</div>
              </div>
            </div>
          </div>
        `),Ye+=`
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üë• Lista de Clientes</h3>
          <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; background: white;">
              <thead>
                <tr style="background: linear-gradient(to right, #fef3c7, #fed7aa); border-bottom: 2px solid #f59e0b;">
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Nome</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">CPF/CNPJ</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Email</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Telefone</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e;">Endere√ßo</th>
                </tr>
              </thead>
              <tbody>
      `,o.forEach((q,je)=>{const Be=q.cpf||q.cnpj||"-",xt=je%2===0?"#ffffff":"#f9fafb";Ye+=`
          <tr style="background: ${xt}; border-bottom: 1px solid #e5e7eb;">
            <td style="padding: 10px; color: #374151; font-weight: 500;">${q.name}</td>
            <td style="padding: 10px; color: #6b7280;">${Be}</td>
            <td style="padding: 10px; color: #374151;">${q.email}</td>
            <td style="padding: 10px; color: #374151;">${q.phone}</td>
            <td style="padding: 10px; color: #6b7280;">${q.address}</td>
          </tr>
        `}),Ye+=`
              </tbody>
            </table>
          </div>
        </div>
      `,Ye+=`
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
          <p style="color: #6b7280; font-size: 12px; margin: 0;">
            Relat√≥rio gerado automaticamente pelo sistema Alya Velas<br>
            Dados baseados em clientes ${ee?"filtrados":"completos"}<br>
            Para mais informa√ß√µes, acesse o painel administrativo
          </p>
        </div>
      `,ue.innerHTML=Ye,document.body.appendChild(ue);const Ae=await Et(ue,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(ue);const Mt=Ae.toDataURL("image/png"),ct=new Pt("p","mm","a4"),Me=210,ke=295,mt=Ae.height*Me/Ae.width;let Fe=mt,Dt=0;for(ct.addImage(Mt,"PNG",0,Dt,Me,mt),Fe-=ke;Fe>=0;)Dt=Fe-mt,ct.addPage(),ct.addImage(Mt,"PNG",0,Dt,Me,mt),Fe-=ke;const B=`Clientes_${ee?"Filtrados":"Completos"}_${new Date().toISOString().split("T")[0]}.pdf`;ct.save(B),alert(`‚úÖ Relat√≥rio PDF exportado com sucesso!
Arquivo: ${B}

üìä Dados inclu√≠dos:
‚Ä¢ Total de clientes: ${u}${fe?`
‚Ä¢ Clientes com CPF: ${M}
‚Ä¢ Clientes com CNPJ: ${U}
‚Ä¢ Clientes com email: ${W}
‚Ä¢ Clientes com telefone: ${Je}
‚Ä¢ Clientes com endere√ßo: ${Pe}`:""}`)}catch(o){console.error("Erro ao exportar PDF:",o),alert("‚ùå Erro ao exportar PDF. Tente novamente.")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(es,{className:"w-8 h-8 text-amber-600"}),"Clientes"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>K(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Exportar PDF"]}),e.jsxs("button",{onClick:()=>ye(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Importar/Exportar"]}),e.jsxs("button",{onClick:()=>{Z(null),P({name:"",email:"",phone:"",address:"",documentType:"cpf",cpf:"",cnpj:""}),ie({}),F(!0)},className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Novo Cliente"]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-lg border border-amber-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-amber-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase tracking-wide",children:"Filtre seus itens:"})]}),e.jsxs("div",{className:"flex items-end gap-1 sm:gap-2 md:gap-3 lg:gap-4 flex-1",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Nome"}),e.jsx("input",{type:"text",placeholder:"Nome...",value:V.name,onChange:o=>ve(u=>({...u,name:o.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full"})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Email"}),e.jsx("input",{type:"text",placeholder:"Email...",value:V.email,onChange:o=>ve(u=>({...u,email:o.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full"})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Telefone"}),e.jsx("input",{type:"text",placeholder:"Telefone...",value:V.phone,onChange:o=>ve(u=>({...u,phone:o.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full"})]})]}),e.jsx("div",{className:"lg:ml-auto",children:e.jsx("button",{onClick:jt,className:"px-2 sm:px-3 md:px-4 py-1 sm:py-2 bg-amber-600 text-white rounded-md text-xs sm:text-sm hover:bg-amber-700 transition-colors w-full lg:w-auto",children:"Limpar Filtros"})})]})}),e.jsx("div",{className:"space-y-4",children:w.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Nenhum cliente encontrado."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Adicione seu primeiro cliente clicando no bot√£o "Novo Cliente".'})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden overflow-x-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-100 border-b border-amber-200 p-4 min-w-max",children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3 min-w-[800px]",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"checkbox",checked:w.length>0&&R.size===w.length,onChange:Y,className:"w-4 h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsxs("button",{onClick:()=>Le("name"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-52 sm:w-60",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Nome"}),Ve("name")]}),e.jsxs("button",{onClick:()=>Le("email"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-36 sm:w-44",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Email"}),Ve("email")]}),e.jsxs("button",{onClick:()=>Le("phone"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-28 sm:w-32",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Telefone"}),Ve("phone")]}),e.jsxs("button",{onClick:()=>Le("address"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Endere√ßo"}),Ve("address")]}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 flex justify-center",children:e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"A√ß√µes"})})]})}),$e.map((o,u)=>e.jsx("div",{className:`bg-white border-b border-gray-100 p-4 hover:bg-amber-50/30 transition-all duration-200 ${u===w.length-1?"border-b-0":""}`,children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3 min-w-[800px]",children:[e.jsx("div",{className:"flex-shrink-0 text-left",children:e.jsx("input",{type:"checkbox",checked:R.has(o.id),onChange:()=>Ee(o.id),className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsxs("div",{className:"flex-shrink-0 w-52 sm:w-60 text-left",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:o.name}),(o.cpf||o.cnpj)&&e.jsx("p",{className:"text-xs text-gray-500 truncate",children:o.cpf||o.cnpj})]}),e.jsx("div",{className:"flex-shrink-0 w-36 sm:w-44 text-center",children:e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:o.email})}),e.jsx("div",{className:"flex-shrink-0 w-28 sm:w-32 text-center",children:e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:o.phone})}),e.jsx("div",{className:"flex-1 min-w-0 text-left",children:e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:o.address})}),e.jsxs("div",{className:"flex-shrink-0 w-16 sm:w-20 flex gap-0.5 sm:gap-1 justify-center",children:[e.jsx("button",{onClick:()=>{Z(o),P({name:o.name,email:o.email,phone:o.phone,address:o.address,documentType:o.cpf?"cpf":"cnpj",cpf:o.cpf||"",cnpj:o.cnpj||""}),F(!0)},className:"p-0.5 sm:p-1 text-amber-600 hover:text-amber-800 hover:bg-amber-50 rounded-full transition-all duration-200",title:"Editar cliente",children:e.jsx(ss,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),e.jsx("button",{onClick:()=>Se(o.id),className:"p-0.5 sm:p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-all duration-200",title:"Excluir cliente",children:e.jsx(vt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]})]})},o.id)),R.size>0&&e.jsx("div",{className:"flex justify-end p-4 bg-red-50 border-t border-red-200",children:e.jsxs("button",{onClick:wt,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(vt,{className:"h-4 w-4"}),"Deletar Selecionado",R.size>1?"s":""," (",R.size,")"]})})]})}),C&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[10000] p-4",onClick:o=>{o.target===o.currentTarget&&(F(!1),Z(null),ie({}))},children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:X?"Editar Cliente":"Novo Cliente"}),e.jsx("button",{onClick:()=>{F(!1),Z(null),ie({})},className:"text-gray-500 hover:text-gray-700",children:e.jsx(yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Nome ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.name,onChange:o=>P(u=>({...u,name:o.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 ${S.name?"border-red-500 bg-red-50":""}`}),S.name&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:[S.name,e.jsx("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-red-500 transform rotate-45"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:f.email,onChange:o=>P(u=>({...u,email:o.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 ${S.email?"border-red-500 bg-red-50":""}`}),S.email&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:[S.email,e.jsx("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-red-500 transform rotate-45"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Telefone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.phone,onChange:o=>P(u=>({...u,phone:o.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 ${S.phone?"border-red-500 bg-red-50":""}`}),S.phone&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:[S.phone,e.jsx("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-red-500 transform rotate-45"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Endere√ßo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.address,onChange:o=>P(u=>({...u,address:o.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 ${S.address?"border-red-500 bg-red-50":""}`}),S.address&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:[S.address,e.jsx("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-red-500 transform rotate-45"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Tipo de Documento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:f.documentType,onChange:o=>P(u=>({...u,documentType:o.target.value,cpf:"",cnpj:""})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"cpf",children:"CPF (Pessoa F√≠sica)"}),e.jsx("option",{value:"cnpj",children:"CNPJ (Pessoa Jur√≠dica)"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:[f.documentType==="cpf"?"CPF":"CNPJ"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:f.documentType==="cpf"?f.cpf:f.cnpj,onChange:o=>P(u=>({...u,[f.documentType]:o.target.value})),placeholder:f.documentType==="cpf"?"000.000.000-00":"00.000.000/0000-00",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 ${f.documentType==="cpf"&&S.cpf||f.documentType==="cnpj"&&S.cnpj?"border-red-500 bg-red-50":""}`}),(f.documentType==="cpf"&&S.cpf||f.documentType==="cnpj"&&S.cnpj)&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:[f.documentType==="cpf"?S.cpf:S.cnpj,e.jsx("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-red-500 transform rotate-45"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{F(!1),Z(null),ie({})},className:"px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 text-white font-semibold",children:"Salvar"})]})]})}),ge&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:o=>{o.target===o.currentTarget&&ye(!1)},children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-gradient-to-b from-amber-50 to-white border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_t,{className:"w-5 h-5 text-amber-700"}),e.jsx("h2",{className:"text-xl font-extrabold text-gray-800",children:"Importar/Exportar Clientes"})]}),e.jsx("button",{onClick:()=>ye(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-5 py-5",children:[e.jsx("p",{className:"text-center text-sm text-gray-700 mb-5",children:"Escolha uma das op√ß√µes abaixo para gerenciar seus dados:"}),e.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-5 mb-6 text-center",children:[e.jsx("p",{className:"font-bold text-amber-800 mb-1",children:"Primeiro baixe o modelo, depois importe!"}),e.jsx("p",{className:"text-amber-700 text-sm",children:"Baixe o arquivo modelo, preencha com seus dados e depois fa√ßa o upload."}),e.jsxs("button",{onClick:Ce,className:"mt-4 inline-flex items-center justify-center gap-2 px-5 py-3 rounded-lg bg-amber-600 hover:bg-amber-700 text-white font-semibold shadow mx-auto",children:[e.jsx(be,{className:"w-4 h-4"})," Baixar Modelo de Clientes"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block w-full rounded-2xl bg-gradient-to-r from-amber-500 to-orange-600 text-white cursor-pointer shadow hover:shadow-md transition-shadow text-center",children:[e.jsxs("div",{className:"px-3 py-3 flex items-center justify-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4 opacity-90"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold leading-tight",children:"Selecionar Arquivo"}),e.jsx("p",{className:"text-white/90 text-xs",children:"Carregar arquivo .xlsx"})]})]}),e.jsx("input",{ref:ne,type:"file",accept:".xlsx",className:"hidden",onChange:st})]}),e.jsx("button",{onClick:at,className:"w-full rounded-2xl bg-gradient-to-r from-amber-500 to-orange-600 text-white px-3 py-3 text-center shadow hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 opacity-90"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold leading-tight",children:"Exportar"}),e.jsx("p",{className:"text-white/90 text-xs",children:"Salvar dados em arquivo"})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>ye(!1),className:"w-full px-6 py-4 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold",children:"Cancelar"})})]})]})}),re&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:o=>{o.target===o.currentTarget&&K(!1)},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-amber-700"}),"Exportar Clientes em PDF"]}),e.jsx("button",{onClick:()=>K(!1),className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:e.jsx(yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-700 text-sm",children:"Configure as op√ß√µes de exporta√ß√£o:"}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"exportarFiltrados",checked:ee,onChange:o=>te(o.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"exportarFiltrados",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Exportar apenas clientes filtrados"}),e.jsx("p",{className:"text-sm text-gray-600",children:ee?"Ser√£o exportados apenas os clientes que est√£o vis√≠veis na lista (com filtros aplicados).":"Todos os clientes ser√£o exportados, independente dos filtros ativos."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"incluirResumo",checked:fe,onChange:o=>tt(o.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"incluirResumo",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Incluir resumo estat√≠stico"}),e.jsx("p",{className:"text-sm text-gray-600",children:fe?"O PDF incluir√° um resumo com totais de clientes, distribui√ß√£o por tipo de documento (CPF/CNPJ) e estat√≠sticas de dados completos.":"Apenas a tabela de clientes ser√° inclu√≠da no PDF."})]})]}),(V.name||V.email||V.phone)&&ee&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Filtros ativos:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[V.name&&e.jsxs("li",{children:["‚Ä¢ Nome: ",V.name]}),V.email&&e.jsxs("li",{children:["‚Ä¢ Email: ",V.email]}),V.phone&&e.jsxs("li",{children:["‚Ä¢ Telefone: ",V.phone]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-2 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all font-medium",children:"Cancelar"}),e.jsx("button",{onClick:Nt,className:"flex-1 py-2 px-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Exportar PDF"})]})]})]})})]})},js=c.createContext(void 0),as=()=>{const w=c.useContext(js);if(w===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return w},La=({children:w})=>{const[y,R]=c.useState(null),[pe,C]=c.useState(null),[F,X]=c.useState(!0),Z=typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",f=()=>Z?sessionStorage:localStorage;c.useEffect(()=>{const re=f().getItem("authToken");re?P(re):X(!1)},[]);const P=async ne=>{try{const re=await fetch(`${Q}/auth/verify`,{method:"POST",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"}});if(re.ok){const K=await re.json();R(K.user),C(ne)}else f().removeItem("authToken"),R(null),C(null)}catch(re){console.error("Erro ao verificar token:",re),f().removeItem("authToken"),R(null),C(null)}finally{X(!1)}},ye={user:y,token:pe,login:async(ne,re)=>{try{const K=await fetch(`${Q}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:ne,password:re})});if(K.ok){const ee=await K.json(),te=f();return ee.firstLogin&&ee.newPassword?(te.setItem("authToken",ee.token),te.setItem("pendingFirstLogin","true"),{success:!0,firstLogin:!0,newPassword:ee.newPassword}):(R(ee.user),C(ee.token),te.setItem("authToken",ee.token),te.removeItem("pendingFirstLogin"),{success:!0,firstLogin:!1})}else{const ee=await K.json();return console.error("Erro no login:",ee.error),{success:!1}}}catch(K){return console.error("Erro ao fazer login:",K),{success:!1}}},logout:()=>{R(null),C(null);const ne=f();ne.removeItem("authToken"),ne.removeItem("pendingFirstLogin")},isLoading:F,completeFirstLogin:async()=>{const ne=f(),re=ne.getItem("authToken");re&&(await P(re),ne.removeItem("pendingFirstLogin"))}};return e.jsx(js.Provider,{value:ye,children:w})},Ea=()=>{const[w,y]=c.useState(""),[R,pe]=c.useState(""),[C,F]=c.useState(!1),[X,Z]=c.useState(!1),[f,P]=c.useState(""),[S,ie]=c.useState(!1),[ge,ye]=c.useState(""),[ne,re]=c.useState(!1),{login:K,completeFirstLogin:ee}=as(),te=async de=>{de.preventDefault(),Z(!0),P("");const ce=await K(w,R);if(!ce.success)P("Usu√°rio ou senha incorretos"),Z(!1);else{if(ce.firstLogin&&ce.newPassword){ye(ce.newPassword),ie(!0),Z(!1);return}Z(!1)}},fe=()=>{navigator.clipboard.writeText(ge),re(!0),setTimeout(()=>re(!1),2e3)},tt=async()=>{ie(!1),re(!1),await ee()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-amber-500 to-amber-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(Ht,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ALYA"}),e.jsx("p",{className:"text-gray-600",children:"Sistema Financeiro"})]}),e.jsxs("form",{onSubmit:te,className:"space-y-6",children:[e.jsx("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"!"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-amber-900 mb-2",children:"Modo Demo"}),e.jsxs("div",{className:"text-xs text-amber-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Login:"})," ",e.jsx("code",{className:"bg-amber-100 px-2 py-1 rounded",children:"demo"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Senha:"})," ",e.jsx("code",{className:"bg-amber-100 px-2 py-1 rounded",children:"demo123"})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usu√°rio"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ua,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:w,onChange:de=>y(de.target.value),className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white",placeholder:"Digite seu usu√°rio",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ht,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:C?"text":"password",value:R,onChange:de=>pe(de.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white",placeholder:"Digite sua senha",required:!0}),e.jsx("button",{type:"button",onClick:()=>F(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?e.jsx(ha,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(ba,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),f&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:f})}),e.jsx("button",{type:"submit",disabled:X,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-amber-600 hover:to-amber-700 focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:X?"Entrando...":"Entrar"})]})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-amber-500 to-amber-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(Ht,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Primeiro Acesso"}),e.jsx("p",{className:"text-gray-600",children:"Uma nova senha foi gerada para voc√™"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sua Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ge,readOnly:!0,className:"w-full px-4 py-3 border-2 border-amber-500 rounded-lg bg-amber-50 font-mono text-lg font-bold text-gray-900 pr-12"}),e.jsx("button",{type:"button",onClick:fe,className:"absolute inset-y-0 right-0 pr-3 flex items-center",title:"Copiar senha",children:ne?e.jsx(fa,{className:"h-5 w-5 text-green-600"}):e.jsx(va,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),ne&&e.jsx("p",{className:"text-green-600 text-sm mt-2",children:"Senha copiada!"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-amber-800 text-sm",children:[e.jsx("strong",{children:"‚ö†Ô∏è Importante:"})," Anote esta senha em local seguro. Voc√™ precisar√° dela para fazer login novamente."]})}),e.jsx("button",{onClick:tt,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-amber-600 hover:to-amber-700 focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-all duration-200",children:"Entendi, continuar"})]})})]})},Pa=()=>{const{user:w,token:y}=as(),[R,pe]=c.useState([]),[C,F]=c.useState(!0),X=async()=>{try{F(!0);const P={"Content-Type":"application/json"};y&&(P.Authorization=`Bearer ${y}`);const S=w?.role==="admin"?`${Q}/admin/modules`:`${Q}/modules`,ge=await(await fetch(S,{headers:P})).json();ge.success&&pe(ge.data)}catch(P){console.error("Erro ao carregar m√≥dulos:",P)}finally{F(!1)}},Z=()=>!w||!w.modules||w.modules.length===0?R.filter(P=>P.isActive):R.filter(P=>P.isActive&&(w.modules?.includes(P.key)||w.role==="admin")),f=P=>R.find(S=>S.key===P);return c.useEffect(()=>{w&&X()},[w,y]),{modules:R,isLoading:C,loadModules:X,getVisibleModules:Z,getModuleByKey:f}},Aa=c.lazy(()=>ga(()=>import("./AdminPanel-DBbMfP2O.js"),__vite__mapDeps([0,1,2,3,4]))),Ma=()=>{const{user:w,token:y,logout:R,isLoading:pe}=as();Pa();const C=typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",F=()=>C?sessionStorage:localStorage,X=async()=>{const t={"Content-Type":"application/json"};y&&(t.Authorization=`Bearer ${y}`);const s=await fetch(`${Q}/transactions`,{headers:t}),a=await s.json();return s.status===401||s.status===403?(R(),[]):a.success?a.data:[]},Z=async t=>{const s={"Content-Type":"application/json"};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/transactions`,{method:"POST",headers:s,body:JSON.stringify(t)});if(a.status===401||a.status===403)return R(),null;const r=await a.json();return r.success?r.data:null},f=async(t,s)=>{const a={"Content-Type":"application/json"};y&&(a.Authorization=`Bearer ${y}`);const r=await fetch(`${Q}/transactions/${t}`,{method:"PUT",headers:a,body:JSON.stringify(s)});if(r.status===401||r.status===403)return R(),null;const l=await r.json();return l.success?l.data:null},P=async t=>{const s={};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/transactions/${t}`,{method:"DELETE",headers:s});return a.status===401||a.status===403?(R(),!1):(await a.json()).success},S=async t=>{const s={"Content-Type":"application/json"};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/transactions`,{method:"DELETE",headers:s,body:JSON.stringify({ids:t})});return a.status===401||a.status===403?(R(),!1):(await a.json()).success},ie=async()=>{const t={"Content-Type":"application/json"};y&&(t.Authorization=`Bearer ${y}`);const s=await fetch(`${Q}/products`,{headers:t}),a=await s.json();return s.status===401||s.status===403?(R(),[]):a.success?a.data:[]},ge=async t=>{const s={"Content-Type":"application/json"};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/products`,{method:"POST",headers:s,body:JSON.stringify(t)});if(a.status===401||a.status===403)return R(),null;const r=await a.json();return r.success?r.data:null},ye=async(t,s)=>{const a={"Content-Type":"application/json"};y&&(a.Authorization=`Bearer ${y}`);const r=await fetch(`${Q}/products/${t}`,{method:"PUT",headers:a,body:JSON.stringify(s)});if(r.status===401||r.status===403)return R(),null;const l=await r.json();return l.success?l.data:null},ne=async t=>{const s={};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/products/${t}`,{method:"DELETE",headers:s});return a.status===401||a.status===403?(R(),!1):(await a.json()).success},re=async t=>{const s={"Content-Type":"application/json"};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/products`,{method:"DELETE",headers:s,body:JSON.stringify({ids:t})});return a.status===401||a.status===403?(R(),!1):(await a.json()).success},[K,ee]=c.useState("dashboard"),[te,fe]=c.useState([]),[tt,de]=c.useState([]),[ce,V]=c.useState(new Set),[ve,Le]=c.useState(new Set),[Ve,$e]=c.useState(!1),[Y,Ee]=c.useState({name:"",category:"",price:"",cost:"",stock:"",sold:""}),[jt,Ue]=c.useState({name:!1,category:!1,price:!1,cost:!1,stock:!1,sold:!1}),[A,Se]=c.useState([]),[wt,Ce]=c.useState(!1),[st,at]=c.useState(null),[Nt,o]=c.useState(!1),[u,M]=c.useState("transactions"),[U,W]=c.useState(null),[_e,Je]=c.useState(!1),[At,Pe]=c.useState(!1),[Jt,ue]=c.useState(!1),[Ne,Ye]=c.useState(!0),[Ae,Mt]=c.useState(!0),[ct,Me]=c.useState(!1),[ke,mt]=c.useState(!0),[Fe,Dt]=c.useState(!0),[B,q]=c.useState({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),[je,Be]=c.useState({date:!1,description:!1,value:!1,type:!1,category:!1}),[xt,rt]=c.useState(!1),[rs,Yt]=c.useState(new Date),[Bt,Rt]=c.useState(!1),[zt,$t]=c.useState(!1),[ws,Ot]=c.useState(null),[Ns,It]=c.useState(null),[oe,Ds]=c.useState({field:null,direction:"asc"}),[$,ot]=c.useState({type:"",category:"",dateFrom:"",dateTo:"",hasDateFilter:!1}),[z,St]=c.useState({category:"",stockFilter:"",soldFilter:"",costFilter:""}),[Ct,pt]=c.useState(null),[gt,Rs]=c.useState(new Date().getMonth()),[ze,os]=c.useState([]),[Ke,$s]=c.useState([]);if(c.useEffect(()=>{if(!y||!w)return;(async()=>{try{const[s,a]=await Promise.all([X(),ie()]);Se(s),fe(a)}catch(s){console.error("Erro ao carregar dados:",s)}})()},[y,w]),c.useEffect(()=>{if(!y||!w){const t=F(),s=t.getItem("alya-transactions"),a=t.getItem("alya-products"),r=t.getItem("alya-metas");s&&Se(JSON.parse(s)),a&&fe(JSON.parse(a)),r&&de(JSON.parse(r))}},[y,w]),c.useEffect(()=>{const t=F();A.length>0&&t.setItem("alya-transactions",JSON.stringify(A))},[A]),c.useEffect(()=>{const t=F();te.length>0&&t.setItem("alya-products",JSON.stringify(te))},[te]),c.useEffect(()=>{const t=F();tt.length>0&&t.setItem("alya-metas",JSON.stringify(tt))},[tt]),c.useEffect(()=>{const t=s=>{if(s.key==="Escape"){if(Bt){Rt(!1);return}if(zt){$t(!1);return}if(xt){rt(!1);return}if(Ve){$e(!1),pt(null),Ee({name:"",category:"",price:"",cost:"",stock:"",sold:""}),Ue({name:!1,category:!1,price:!1,cost:!1,stock:!1,sold:!1});return}if(wt){Ce(!1),at(null),q({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),Be({date:!1,description:!1,value:!1,type:!1,category:!1}),rt(!1);return}if(Nt){o(!1),W(null);return}}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[Bt,zt,xt,Ve,wt,Nt]),pe)return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});if(!w)return e.jsx(Ea,{});const ut=t=>t.toISOString().split("T")[0],Kt=t=>new Date(t).toLocaleDateString("pt-BR"),ls=t=>{q(s=>({...s,date:ut(t)})),Yt(t),rt(!1),Be(s=>({...s,date:!1}))},is=()=>{rt(!xt)},ns=t=>{Yt(s=>{const a=new Date(s);return t==="prev"?a.setMonth(s.getMonth()-1):a.setMonth(s.getMonth()+1),a})},Ss=()=>{const t=new Date;Yt(t),ls(t)},Cs=()=>{q(t=>({...t,date:""})),rt(!1)},ds=t=>{ot(s=>({...s,dateFrom:ut(t)})),Ot(t),Rt(!1)},cs=t=>{ot(s=>({...s,dateTo:ut(t)})),It(t),$t(!1)},ks=()=>{Rt(!Bt),$t(!1)},Fs=()=>{$t(!zt),Rt(!1)},ms=t=>{Ot(s=>{const a=s||new Date,r=new Date(a);return t==="prev"?r.setMonth(a.getMonth()-1):r.setMonth(a.getMonth()+1),r})},xs=t=>{It(s=>{const a=s||new Date,r=new Date(a);return t==="prev"?r.setMonth(a.getMonth()-1):r.setMonth(a.getMonth()+1),r})},Ts=()=>{const t=new Date;Ot(t),ds(t)},Ls=()=>{const t=new Date;It(t),cs(t)},Es=()=>{ot(t=>({...t,dateFrom:""})),Ot(null),Rt(!1)},Ps=()=>{ot(t=>({...t,dateTo:""})),It(null),$t(!1)},qt=t=>{const{name:s,value:a}=t.target;q(r=>({...r,[s]:a,...s==="type"?{category:""}:{}})),Be(r=>({...r,[s]:!1}))},As=t=>{V(s=>{const a=new Set(s);return a.has(t)?a.delete(t):a.add(t),a})},Ms=()=>{ce.size===te.length?V(new Set):V(new Set(te.map(t=>t.id)))},Bs=async()=>{if(ce.size===0)return;const t=ce.size===1?"Tem certeza que deseja deletar este produto?":`Tem certeza que deseja deletar ${ce.size} produtos?`;if(confirm(t))try{const s=Array.from(ce);await re(s)&&(fe(r=>r.filter(l=>!ce.has(l.id))),V(new Set))}catch(s){console.error("Erro ao deletar produtos:",s)}},zs=t=>{Le(s=>{const a=new Set(s);return a.has(t)?a.delete(t):a.add(t),a})},Os=()=>{ve.size===A.length?Le(new Set):Le(new Set(A.map(t=>t.id)))},Is=async()=>{if(ve.size===0)return;const t=ve.size===1?"Tem certeza que deseja deletar esta transa√ß√£o?":`Tem certeza que deseja deletar ${ve.size} transa√ß√µes?`;if(confirm(t))try{const s=Array.from(ve);await S(s)&&(Se(r=>r.filter(l=>!ve.has(l.id))),Le(new Set))}catch(s){console.error("Erro ao deletar transa√ß√µes:",s)}},De=t=>{let s="asc";oe.field===t&&oe.direction==="asc"&&(s="desc"),Ds({field:t,direction:s})},Re=t=>oe.field!==t?e.jsx("span",{className:"text-gray-400",children:"‚Üï"}):oe.direction==="asc"?e.jsx("span",{className:"text-amber-600",children:"‚Üë"}):e.jsx("span",{className:"text-amber-600",children:"‚Üì"}),ps=()=>{let t=A;return $.type&&(t=t.filter(s=>s.type===$.type)),$.category&&(t=t.filter(s=>s.category.toLowerCase().includes($.category.toLowerCase()))),$.dateFrom&&(t=t.filter(s=>new Date(s.date)>=new Date($.dateFrom))),$.dateTo&&(t=t.filter(s=>new Date(s.date)<=new Date($.dateTo))),oe.field?t.sort((s,a)=>{let r=s[oe.field],l=a[oe.field];return oe.field==="date"?(r=new Date(r).getTime(),l=new Date(l).getTime()):oe.field==="value"?(r=Number(r),l=Number(l)):typeof r=="string"&&(r=r.toLowerCase(),l=l.toLowerCase()),r<l?oe.direction==="asc"?-1:1:r>l?oe.direction==="asc"?1:-1:0}):t},gs=()=>{let t=te;return z.category&&(t=t.filter(s=>s.category.toLowerCase().includes(z.category.toLowerCase()))),z.stockFilter==="inStock"?t=t.filter(s=>s.stock>0):z.stockFilter==="outOfStock"&&(t=t.filter(s=>s.stock===0)),z.soldFilter==="sold"?t=t.filter(s=>s.sold>0):z.soldFilter==="notSold"&&(t=t.filter(s=>s.sold===0)),z.costFilter==="withCost"?t=t.filter(s=>s.cost>0):z.costFilter==="withoutCost"&&(t=t.filter(s=>s.cost===0)),oe.field?t.sort((s,a)=>{let r=s[oe.field],l=a[oe.field];return oe.field==="price"||oe.field==="cost"||oe.field==="stock"||oe.field==="sold"?(r=Number(r),l=Number(l)):typeof r=="string"&&(r=r.toLowerCase(),l=l.toLowerCase()),r<l?oe.direction==="asc"?-1:1:r>l?oe.direction==="asc"?1:-1:0}):t},qs=()=>{ot({type:"",category:"",dateFrom:"",dateTo:"",hasDateFilter:!1})},Vs=()=>{St({category:"",stockFilter:"",soldFilter:"",costFilter:""})},Us=()=>{const t={date:!B.date||B.date.trim()==="",description:!B.description||B.description.trim()==="",value:!B.value||B.value.trim()===""||parseFloat(B.value)<=0,type:!B.type||B.type.trim()==="",category:!B.category||B.category.trim()===""};return Be(t),!Object.values(t).some(a=>a)},_s=()=>{const t=new Date,s=rs.getMonth(),a=rs.getFullYear(),r=new Date(a,s,1),l=new Date(r);l.setDate(l.getDate()-r.getDay());const m=[],n=["D","S","T","Q","Q","S","S"];for(let g=0;g<42;g++){const x=new Date(l);x.setDate(l.getDate()+g),m.push(x)}const i=["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-4 z-50 min-w-[320px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>ns("prev"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Wt,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("h3",{className:"text-lg font-semibold text-amber-800",children:[i[s]," ",a]}),e.jsx("button",{onClick:()=>ns("next"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"w-5 h-5 text-amber-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:n.map((g,x)=>e.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:g},x))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:m.map((g,x)=>{const N=g.getMonth()===s,J=g.toDateString()===t.toDateString(),T=B.date===ut(g);return e.jsx("button",{onClick:()=>ls(g),className:`
                  w-10 h-10 text-sm rounded-lg transition-all duration-200
                  ${N?"text-gray-900":"text-gray-400"}
                  ${J?"bg-amber-100 text-amber-800 font-semibold":""}
                  ${T?"bg-amber-500 text-white font-semibold":""}
                  ${!T&&!J?"hover:bg-amber-50":""}
                `,children:g.getDate()},x)})}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:Cs,className:"flex-1 px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar"}),e.jsx("button",{onClick:Ss,className:"flex-1 px-3 py-2 text-sm text-white bg-amber-500 rounded-lg hover:bg-amber-600 transition-colors",children:"Hoje"})]})]})},Js=()=>{const t=new Date,s=ws||new Date,a=s.getMonth(),r=s.getFullYear(),l=new Date(r,a,1),m=new Date(l);m.setDate(m.getDate()-l.getDay());const n=[],i=["D","S","T","Q","Q","S","S"];for(let x=0;x<42;x++){const N=new Date(m);N.setDate(m.getDate()+x),n.push(N)}const g=["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-4 z-50 min-w-[320px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>ms("prev"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Wt,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("h3",{className:"text-lg font-semibold text-amber-800",children:[g[a]," ",r]}),e.jsx("button",{onClick:()=>ms("next"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"w-5 h-5 text-amber-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:i.map((x,N)=>e.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:x},N))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:n.map((x,N)=>{const J=x.getMonth()===a,T=x.toDateString()===t.toDateString(),L=$.dateFrom===ut(x);return e.jsx("button",{onClick:()=>ds(x),className:`
                  w-10 h-10 text-sm rounded-lg transition-all duration-200
                  ${J?"text-gray-900":"text-gray-400"}
                  ${T?"bg-amber-100 text-amber-800 font-semibold":""}
                  ${L?"bg-amber-500 text-white font-semibold":""}
                  ${!L&&!T?"hover:bg-amber-50":""}
                `,children:x.getDate()},N)})}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:Es,className:"flex-1 px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar"}),e.jsx("button",{onClick:Ts,className:"flex-1 px-3 py-2 text-sm text-white bg-amber-500 rounded-lg hover:bg-amber-600 transition-colors",children:"Hoje"})]})]})},Ys=()=>{const t=new Date,s=Ns||new Date,a=s.getMonth(),r=s.getFullYear(),l=new Date(r,a,1),m=new Date(l);m.setDate(m.getDate()-l.getDay());const n=[],i=["D","S","T","Q","Q","S","S"];for(let x=0;x<42;x++){const N=new Date(m);N.setDate(m.getDate()+x),n.push(N)}const g=["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-4 z-50 min-w-[320px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>xs("prev"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Wt,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("h3",{className:"text-lg font-semibold text-amber-800",children:[g[a]," ",r]}),e.jsx("button",{onClick:()=>xs("next"),className:"p-2 hover:bg-amber-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"w-5 h-5 text-amber-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:i.map((x,N)=>e.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:x},N))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:n.map((x,N)=>{const J=x.getMonth()===a,T=x.toDateString()===t.toDateString(),L=$.dateTo===ut(x);return e.jsx("button",{onClick:()=>cs(x),className:`
                  w-10 h-10 text-sm rounded-lg transition-all duration-200
                  ${J?"text-gray-900":"text-gray-400"}
                  ${T?"bg-amber-100 text-amber-800 font-semibold":""}
                  ${L?"bg-amber-500 text-white font-semibold":""}
                  ${!L&&!T?"hover:bg-amber-50":""}
                `,children:x.getDate()},N)})}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:Ps,className:"flex-1 px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar"}),e.jsx("button",{onClick:Ls,className:"flex-1 px-3 py-2 text-sm text-white bg-amber-500 rounded-lg hover:bg-amber-600 transition-colors",children:"Hoje"})]})]})},Vt=t=>t==="Receita"?["Atacado","Varejo","Investimentos","Outros"]:t==="Despesa"?["Fixo","Vari√°vel","Investimento","Mkt","Outros"]:[],Ks=t=>{at(t),q({date:t.date,description:t.description,value:t.value.toString(),type:t.type,category:t.category}),Ce(!0)},ht=t=>{const{name:s,value:a}=t.target;Ee(r=>({...r,[s]:a})),Ue(r=>({...r,[s]:!1}))},Hs=()=>{const t={name:!Y.name||Y.name.trim()==="",category:!Y.category||Y.category.trim()==="",price:!Y.price||Y.price.trim()===""||parseFloat(Y.price)<=0,cost:!1,stock:!1,sold:!1};return Ue(t),!(t.name||t.category||t.price)},Gs=t=>{pt(t),Ee({name:t.name,price:t.price.toString(),cost:t.cost.toString(),stock:t.stock.toString(),sold:t.sold.toString(),category:t.category}),$e(!0)},Qs=()=>{if(!A||A.length===0)return{receitas:0,despesas:0,faturamento:0,resultado:0};const t=new Date,s=t.getMonth(),a=t.getFullYear();try{const r=A.filter(g=>{if(!g.date)return!1;const x=new Date(g.date);return x.getMonth()===s&&x.getFullYear()===a}),l=r.filter(g=>g.type==="Receita").reduce((g,x)=>g+(x.value||0),0),m=r.filter(g=>g.type==="Despesa").reduce((g,x)=>g+(x.value||0),0),n=l,i=l-m;return{receitas:l,despesas:m,faturamento:n,resultado:i}}catch(r){return console.error("Erro ao calcular totais:",r),{receitas:0,despesas:0,faturamento:0,resultado:0}}},He=[{nome:"JANEIRO",indice:0,meta:18500},{nome:"FEVEREIRO",indice:1,meta:19200},{nome:"MAR√áO",indice:2,meta:20100},{nome:"ABRIL",indice:3,meta:19800},{nome:"MAIO",indice:4,meta:20500},{nome:"JUNHO",indice:5,meta:21e3},{nome:"JULHO",indice:6,meta:21500},{nome:"AGOSTO",indice:7,meta:22e3},{nome:"SETEMBRO",indice:8,meta:21889.17},{nome:"OUTUBRO",indice:9,meta:23e3},{nome:"NOVEMBRO",indice:10,meta:25e3},{nome:"DEZEMBRO",indice:11,meta:28e3}],Oe=t=>{os(s=>s.includes(t)?s.filter(a=>a!==t):[...s,t])},lt=t=>{$s(s=>s.includes(t)?s.filter(a=>a!==t):[...s,t])},Ws=()=>{const t=C?e.jsx("div",{className:"mb-6 bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-amber-900",children:"Modo Demo"}),e.jsx("p",{className:"text-sm text-amber-800 mt-1",children:"Os dados s√£o tempor√°rios e ser√£o perdidos ao fechar o navegador. Este √© um ambiente de demonstra√ß√£o."})]})]})}):null,{receitas:s,despesas:a,resultado:r}=Qs(),l=He.find(b=>b.indice===gt)||He[new Date().getMonth()],m=s,n=a,i=r,x=(b=>Math.floor(b/3))(gt),N=[x*3,x*3+1,x*3+2],J=["Q1 (Jan-Mar)","Q2 (Abr-Jun)","Q3 (Jul-Set)","Q4 (Out-Dez)"],T=A.filter(b=>{const G=new Date(b.date).getMonth();return N.includes(G)}),L=T.filter(b=>b.type==="Receita").reduce((b,G)=>b+G.value,0),ae=T.filter(b=>b.type==="Despesa").reduce((b,G)=>b+G.value,0),j=L-ae,p=N.reduce((b,G)=>b+(He[G]?.meta||0),0),v=A.filter(b=>new Date(b.date).getFullYear()===new Date().getFullYear()),h=v.filter(b=>b.type==="Receita").reduce((b,G)=>b+G.value,0),D=v.filter(b=>b.type==="Despesa").reduce((b,G)=>b+G.value,0),O=h-D,H=A.sort((b,G)=>new Date(G.date).getTime()-new Date(b.date).getTime()).slice(0,5),d=[{name:"Receitas",value:m,color:"#22c55e"},{name:"Despesas",value:n,color:"#ef4444"}],k=[{name:"Receitas",value:L,color:"#06b6d4"},{name:"Despesas",value:ae,color:"#f97316"}],he=[{name:"Receitas Anuais",value:h,color:"#16a34a"},{name:"Despesas Anuais",value:D,color:"#dc2626"}],we=[{name:"Meta",value:l.meta,color:"#f59e0b"},{name:"Real",value:i,color:i>=l.meta?"#22c55e":"#ef4444"}],I=[{name:"Meta",value:p,color:"#f59e0b"},{name:"Real",value:j,color:j>=p?"#22c55e":"#ef4444"}],_=He.reduce((b,G)=>b+G.meta,0),se=[{name:"Meta Anual",value:_,color:"#f59e0b"},{name:"Real Anual",value:O,color:O>=_?"#22c55e":"#ef4444"}],E=(b,G)=>{const le=b.length>0&&b.some(xe=>xe.value>0),bt=le?b:[{name:"Sem dados",value:100,color:"#e5e7eb"}];return e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 mt-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:G}),e.jsx(Ie,{width:"100%",height:350,children:e.jsxs(ma,{children:[e.jsx(xa,{data:bt,cx:"50%",cy:"50%",innerRadius:80,outerRadius:140,paddingAngle:le?8:0,dataKey:"value",cornerRadius:le?10:0,stroke:"none",children:bt.map((xe,it)=>e.jsx(hs,{fill:xe.color},`cell-${it}`))}),le&&e.jsx(qe,{formatter:xe=>[`R$ ${xe.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,""],contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),le&&e.jsx(bs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"14px",fontWeight:600}}),!le&&e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-gray-400 text-sm font-medium",children:"Sem dados dispon√≠veis"})]})})]})},me=(b,G)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 mt-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:G}),e.jsx(Ie,{width:"100%",height:350,children:e.jsxs(Ge,{data:b,margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx(Qe,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),e.jsx(We,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#666"}}),e.jsx(Xe,{tickFormatter:le=>`R$ ${le.toLocaleString("pt-BR")}`,axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#666"}}),e.jsx(qe,{formatter:le=>`R$ ${le.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12)"}}),e.jsx(Te,{dataKey:"value",fill:"#8884d8",radius:[8,8,0,0],children:b.map((le,bt)=>e.jsx(hs,{fill:le.color},`cell-${bt}`))})]})})]});return e.jsxs("div",{className:"space-y-8",children:[t,e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(nt,{className:"w-8 h-8 text-blue-600"}),"Dashboard Financeiro"]}),e.jsxs("button",{onClick:()=>Ce(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Nova Transa√ß√£o"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Ft,{className:"w-6 h-6 text-gray-600"}),"M√™s Atual",e.jsx("span",{className:"text-lg font-medium text-amber-600 bg-amber-50 px-3 py-1 rounded-lg border border-amber-200",children:l.nome})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-500 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("receitas-mensal"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Ze,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Receitas"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",m.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("receitas-mensal")&&E(d,"Distribui√ß√£o Mensal: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-500 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("despesas-mensal"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Tt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Despesas"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("despesas-mensal")&&E(d,"Distribui√ß√£o Mensal: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1 ${i>=0,"bg-yellow-500"}`,onClick:()=>Oe("saldo-mensal"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(nt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Saldo"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${i>=0?"text-green-900":"text-red-900"}`,children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("saldo-mensal")&&me(we,`Compara√ß√£o: Meta vs Real (${l.nome})`)]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 flex items-center gap-3",children:[e.jsx(Ft,{className:"w-6 h-6 text-cyan-600"}),"Trimestre Atual",e.jsx("span",{className:"text-lg font-medium text-cyan-600 bg-cyan-50 px-3 py-1 rounded-lg border border-cyan-200",children:J[x]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("receitas-trimestre"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Ze,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Receitas"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",L.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("receitas-trimestre")&&E(k,"Distribui√ß√£o Trimestral: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("despesas-trimestre"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Tt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Despesas"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",ae.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("despesas-trimestre")&&E(k,"Distribui√ß√£o Trimestral: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("saldo-trimestre"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(nt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Saldo"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${j>=0?"text-green-900":"text-red-900"}`,children:["R$ ",j.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("saldo-trimestre")&&me(I,`Compara√ß√£o Trimestral: Meta vs Real (${J[x]})`)]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-800 flex items-center gap-3",children:[e.jsx(Ft,{className:"w-6 h-6 text-purple-600"}),"Ano"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-600 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("receitas-anual"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Ze,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Receitas Anuais"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("receitas-anual")&&E(he,"Distribui√ß√£o Anual: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-600 p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1",onClick:()=>Oe("despesas-anual"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Tt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Despesas Anuais"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",D.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("despesas-anual")&&E(he,"Distribui√ß√£o Anual: Receitas vs Despesas")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-6 rounded-2xl shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 hover:-translate-y-1 ${O>=0,"bg-yellow-600"}`,onClick:()=>Oe("saldo-anual"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(nt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white text-opacity-80 uppercase tracking-wide",children:"Saldo Anual"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${O>=0?"text-green-900":"text-red-900"}`,children:["R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),ze.includes("saldo-anual")&&me(se,"Compara√ß√£o Anual: Meta vs Real")]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Ze,{className:"w-6 h-6 text-gray-600"}),"Transa√ß√µes Recentes"]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[H.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Nenhuma transa√ß√£o encontrada."}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Adicione suas primeiras transa√ß√µes para v√™-las aqui."})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:H.map((b,G)=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${b.type==="Receita"?"bg-emerald-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:b.description}),e.jsx("p",{className:"text-sm text-gray-500",children:b.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-bold ${b.type==="Receita"?"text-emerald-600":"text-red-600"}`,children:[b.type==="Receita"?"+":"-","R$ ",b.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(b.date).toLocaleDateString("pt-BR")})]})]})},G))}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-blue-50 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>ee("transactions"),className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 group",children:[e.jsx(Ze,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),"Ver todas as transa√ß√µes",e.jsx(et,{className:"h-5 w-5 rotate-90 group-hover:translate-x-1 transition-all duration-300"})]})})]})]})]})},us=(t,s,a,r=31970.5)=>{const m=A.filter(g=>{const x=new Date(g.date);return x.getMonth()===s&&x.getFullYear()===2025}),n=m.filter(g=>g.type==="Receita").reduce((g,x)=>g+x.value,0),i=m.filter(g=>g.type==="Despesa").reduce((g,x)=>g+x.value,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Ft,{className:"w-6 h-6 text-gray-600"}),"Resultado"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"REFOR√áO DE CAIXA"}),e.jsx("span",{className:"font-bold text-gray-800",children:"R$ 0,00"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"SA√çDA DE CAIXA"}),e.jsx("span",{className:"font-bold text-gray-800",children:"R$ 0,00"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"font-semibold text-emerald-700",children:"RECEITA"}),e.jsxs("span",{className:"font-bold text-emerald-800",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"font-semibold text-red-700",children:"DESPESA"}),e.jsxs("span",{className:"font-bold text-red-800",children:["-R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"font-semibold text-blue-700",children:"SALDO INICIAL"}),e.jsxs("span",{className:"font-bold text-blue-800",children:["R$ ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 bg-gray-50 px-4 rounded-lg border-2 border-gray-300 mt-4",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"Total geral"}),e.jsxs("span",{className:`font-bold text-xl ${r+n-i>=0?"text-emerald-800":"text-red-800"}`,children:["R$ ",(r+n-i).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-2 border-b-2 border-gray-300",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-gray-600 text-lg"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-gray-800 text-xl",children:"R$"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-gray-800 text-xl",children:"%"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b border-gray-200",children:[e.jsx("div",{className:"font-bold text-gray-800 italic",children:"META"}),e.jsxs("div",{className:"text-center font-bold text-gray-800",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-center font-bold text-gray-800",children:"100%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b border-gray-200",children:[e.jsx("div",{className:"font-bold text-emerald-700 italic",children:"ALCAN√áADO"}),e.jsxs("div",{className:"text-center font-bold text-emerald-800",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"text-center font-bold text-emerald-800",children:[a>0?(n/a*100).toFixed(0):0,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3",children:[e.jsx("div",{className:"font-bold text-red-700 italic",children:"RESTANTE"}),e.jsxs("div",{className:"text-center font-bold text-red-800",children:["-R$ ",Math.max(0,a-n).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"text-center font-bold text-red-800",children:[a>0?Math.max(0,100-n/a*100).toFixed(0):100,"%"]})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-emerald-800 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-6 h-6 text-emerald-600"}),"Faturamento"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-2xl border border-emerald-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-emerald-800 mb-4",children:"Faturamento TOTAL"}),e.jsxs("div",{className:"text-2xl font-bold text-emerald-900 mb-4",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-emerald-700 mb-1",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[(n/3e4*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-emerald-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n/3e4*100)}%`}}),n/3e4*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-emerald-700 to-emerald-800 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n/3e4*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-emerald-700 font-medium",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,3e4-n).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-green-800 mb-4",children:"Faturamento Varejo"}),e.jsxs("div",{className:"text-2xl font-bold text-green-900 mb-4",children:["R$ ",(n*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-green-700 mb-1",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[(n*.6/18e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-green-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.6/18e3*100)}%`}}),n*.6/18e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-green-700 to-green-800 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.6/18e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-green-700 font-medium",children:["R$ ",(n*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,18e3-n*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-6 rounded-2xl border border-teal-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-teal-800 mb-4",children:"Faturamento Atacado"}),e.jsxs("div",{className:"text-2xl font-bold text-teal-900 mb-4",children:["R$ ",(n*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-teal-700 mb-1",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[(n*.3/12e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-teal-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.3/12e3*100)}%`}}),n*.3/12e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-teal-700 to-teal-800 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.3/12e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-teal-700 font-medium",children:["R$ ",(n*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,12e3-n*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-red-800 flex items-center gap-3",children:[e.jsx(Tt,{className:"w-6 h-6 text-red-600"}),"Despesas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-2xl border border-red-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-red-800 mb-4",children:"Despesas TOTAL"}),e.jsxs("div",{className:"text-2xl font-bold text-red-900 mb-4",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-red-700 mb-1",children:[e.jsx("span",{children:"Limite"}),e.jsxs("span",{children:[(i/15e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-red-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i/15e3*100)}%`}}),i/15e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-red-700 to-red-900 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i/15e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-red-700 font-medium",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,15e3-i).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-2xl border border-orange-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-orange-800 mb-4",children:"Despesas Vari√°veis"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-900 mb-4",children:["R$ ",(i*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-orange-700 mb-1",children:[e.jsx("span",{children:"Limite"}),e.jsxs("span",{children:[(i*.7/10500*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-orange-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.7/10500*100)}%`}}),i*.7/10500*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-orange-700 to-orange-900 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.7/10500*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-orange-700 font-medium",children:["R$ ",(i*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,10500-i*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl border border-amber-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-amber-800 mb-4",children:"Despesas Fixas"}),e.jsxs("div",{className:"text-2xl font-bold text-amber-900 mb-4",children:["R$ ",(i*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-amber-700 mb-1",children:[e.jsx("span",{children:"Limite"}),e.jsxs("span",{children:[(i*.25/4500*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-amber-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.25/4500*100)}%`}}),i*.25/4500*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-amber-700 to-amber-900 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.25/4500*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-amber-700 font-medium",children:["R$ ",(i*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,4500-i*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-indigo-800 flex items-center gap-3",children:[e.jsx(et,{className:"w-6 h-6 text-indigo-600"}),"Investimentos"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"Investimentos Gerais"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-900 mb-4",children:["R$ ",(i*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-blue-700 mb-1",children:[e.jsx("span",{children:"Meta"}),e.jsxs("span",{children:[(i*.05/2e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-blue-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.05/2e3*100)}%`}}),i*.05/2e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-blue-700 to-blue-900 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,i*.05/2e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-blue-700 font-medium",children:["R$ ",(i*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,2e3-i*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-4",children:"Investimentos em MKT"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-900 mb-4",children:["R$ ",(n*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-purple-700 mb-1",children:[e.jsx("span",{children:"Meta"}),e.jsxs("span",{children:[(n*.1/3e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-purple-200 rounded-full h-2 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.1/3e3*100)}%`}}),n*.1/3e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-purple-700 to-purple-900 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n*.1/3e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-purple-700 font-medium",children:["R$ ",(n*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,3e3-n*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]})},Xs=(t,s,a,r=31970.5)=>e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-400 p-6 rounded-2xl shadow-lg",children:e.jsxs("h2",{className:"text-3xl font-bold text-white text-center uppercase tracking-wider",children:[t," - 2025"]})}),us(t,s,a,r)]},t),Zs=()=>{const s=A.filter(i=>new Date(i.date).getFullYear()===2025),a=s.filter(i=>i.type==="Receita").reduce((i,g)=>i+g.value,0),r=s.filter(i=>i.type==="Despesa").reduce((i,g)=>i+g.value,0),m=[18500,19200,20100,19800,20500,21e3,21500,22e3,21889.17,23e3,25e3,28e3].reduce((i,g)=>i+g,0),n=31970.5;return e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-8 rounded-2xl shadow-xl",children:e.jsx("h2",{className:"text-4xl font-bold text-white text-center uppercase tracking-wider",children:"TOTAL DO ANO - 2025"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-purple-800 flex items-center gap-3",children:[e.jsx(Ft,{className:"w-8 h-8 text-purple-600"}),"Resultado Anual"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-8 rounded-2xl shadow-lg border-2 border-purple-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-purple-200",children:[e.jsx("span",{className:"font-bold text-purple-800 text-lg",children:"REFOR√áO DE CAIXA"}),e.jsx("span",{className:"font-bold text-purple-900 text-lg",children:"R$ 0,00"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-purple-200",children:[e.jsx("span",{className:"font-bold text-purple-800 text-lg",children:"SA√çDA DE CAIXA"}),e.jsx("span",{className:"font-bold text-purple-900 text-lg",children:"R$ 0,00"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-purple-200",children:[e.jsx("span",{className:"font-bold text-emerald-700 text-lg",children:"RECEITA ANUAL"}),e.jsxs("span",{className:"font-bold text-emerald-800 text-lg",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-purple-200",children:[e.jsx("span",{className:"font-bold text-red-700 text-lg",children:"DESPESA ANUAL"}),e.jsxs("span",{className:"font-bold text-red-800 text-lg",children:["-R$ ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-purple-200",children:[e.jsx("span",{className:"font-bold text-blue-700 text-lg",children:"SALDO INICIAL"}),e.jsxs("span",{className:"font-bold text-blue-800 text-lg",children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-6 bg-gradient-to-r from-purple-100 to-indigo-100 px-6 rounded-xl border-3 border-purple-400 mt-6",children:[e.jsx("span",{className:"font-bold text-purple-900 text-2xl",children:"Total Geral Anual"}),e.jsxs("span",{className:`font-bold text-2xl ${n+a-r>=0?"text-emerald-800":"text-red-800"}`,children:["R$ ",(n+a-r).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-8 rounded-2xl shadow-lg border-2 border-purple-200",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-3 border-b-3 border-purple-400",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-purple-700 text-xl"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-purple-900 text-2xl",children:"R$"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-bold text-purple-900 text-2xl",children:"%"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-b-2 border-purple-200",children:[e.jsx("div",{className:"font-bold text-purple-800 italic text-lg",children:"META ANUAL"}),e.jsxs("div",{className:"text-center font-bold text-purple-900 text-lg",children:["R$ ",m.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-center font-bold text-purple-900 text-lg",children:"100%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-b-2 border-purple-200",children:[e.jsx("div",{className:"font-bold text-emerald-700 italic text-lg",children:"ALCAN√áADO"}),e.jsxs("div",{className:"text-center font-bold text-emerald-800 text-lg",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"text-center font-bold text-emerald-800 text-lg",children:[m>0?(a/m*100).toFixed(0):0,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4",children:[e.jsx("div",{className:"font-bold text-red-700 italic text-lg",children:"RESTANTE"}),e.jsxs("div",{className:"text-center font-bold text-red-800 text-lg",children:["-R$ ",Math.max(0,m-a).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"text-center font-bold text-red-800 text-lg",children:[m>0?Math.max(0,100-a/m*100).toFixed(0):100,"%"]})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-emerald-800 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-8 h-8 text-emerald-600"}),"Faturamento Anual"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 to-emerald-200 p-8 rounded-2xl border-2 border-emerald-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-900 mb-6",children:"Faturamento TOTAL ANUAL"}),e.jsxs("div",{className:"text-3xl font-bold text-emerald-900 mb-4",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-emerald-800 mb-1",children:[e.jsx("span",{children:"Progresso Anual"}),e.jsxs("span",{children:[(a/36e4*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-emerald-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a/36e4*100)}%`}}),a/36e4*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-emerald-800 to-emerald-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a/36e4*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-emerald-800 font-medium",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,36e4-a).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-8 rounded-2xl border-2 border-green-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-6",children:"Faturamento Varejo Anual"}),e.jsxs("div",{className:"text-3xl font-bold text-green-900 mb-4",children:["R$ ",(a*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-green-800 mb-1",children:[e.jsx("span",{children:"Progresso Anual"}),e.jsxs("span",{children:[(a*.6/216e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-green-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.6/216e3*100)}%`}}),a*.6/216e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-green-800 to-green-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.6/216e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-green-800 font-medium",children:["R$ ",(a*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,216e3-a*.6).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-100 to-teal-200 p-8 rounded-2xl border-2 border-teal-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-teal-900 mb-6",children:"Faturamento Atacado Anual"}),e.jsxs("div",{className:"text-3xl font-bold text-teal-900 mb-4",children:["R$ ",(a*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-teal-800 mb-1",children:[e.jsx("span",{children:"Progresso Anual"}),e.jsxs("span",{children:[(a*.3/144e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-teal-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.3/144e3*100)}%`}}),a*.3/144e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-teal-800 to-teal-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.3/144e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-teal-800 font-medium",children:["R$ ",(a*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,144e3-a*.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-red-800 flex items-center gap-3",children:[e.jsx(Tt,{className:"w-8 h-8 text-red-600"}),"Despesas Anuais"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-100 to-red-200 p-8 rounded-2xl border-2 border-red-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-red-900 mb-6",children:"Despesas TOTAL Anuais"}),e.jsxs("div",{className:"text-3xl font-bold text-red-900 mb-4",children:["R$ ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-red-800 mb-1",children:[e.jsx("span",{children:"Limite Anual"}),e.jsxs("span",{children:[(r/18e4*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-red-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r/18e4*100)}%`}}),r/18e4*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-red-800 to-red-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r/18e4*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-red-800 font-medium",children:["R$ ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,18e4-r).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 p-8 rounded-2xl border-2 border-orange-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-6",children:"Despesas Vari√°veis Anuais"}),e.jsxs("div",{className:"text-3xl font-bold text-orange-900 mb-4",children:["R$ ",(r*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-orange-800 mb-1",children:[e.jsx("span",{children:"Limite Anual"}),e.jsxs("span",{children:[(r*.7/126e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-orange-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.7/126e3*100)}%`}}),r*.7/126e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-orange-800 to-orange-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.7/126e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-orange-800 font-medium",children:["R$ ",(r*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,126e3-r*.7).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-100 to-amber-200 p-8 rounded-2xl border-2 border-amber-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-6",children:"Despesas Fixas Anuais"}),e.jsxs("div",{className:"text-3xl font-bold text-amber-900 mb-4",children:["R$ ",(r*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-amber-800 mb-1",children:[e.jsx("span",{children:"Limite Anual"}),e.jsxs("span",{children:[(r*.25/54e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-amber-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-amber-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.25/54e3*100)}%`}}),r*.25/54e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-amber-800 to-amber-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.25/54e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-amber-800 font-medium",children:["R$ ",(r*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,54e3-r*.25).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-indigo-800 flex items-center gap-3",children:[e.jsx(et,{className:"w-8 h-8 text-indigo-600"}),"Investimentos Anuais"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 p-8 rounded-2xl border-2 border-blue-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-6",children:"Investimentos Gerais Anuais"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-900 mb-4",children:["R$ ",(r*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-blue-800 mb-1",children:[e.jsx("span",{children:"Meta Anual"}),e.jsxs("span",{children:[(r*.05/24e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-blue-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.05/24e3*100)}%`}}),r*.05/24e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-blue-800 to-blue-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r*.05/24e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-blue-800 font-medium",children:["R$ ",(r*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,24e3-r*.05).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 p-8 rounded-2xl border-2 border-purple-300 shadow-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-6",children:"Investimentos MKT Anuais"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-900 mb-4",children:["R$ ",(a*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-purple-800 mb-1",children:[e.jsx("span",{children:"Meta Anual"}),e.jsxs("span",{children:[(a*.1/36e3*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"w-full bg-purple-300 rounded-full h-3 relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.1/36e3*100)}%`}}),a*.1/36e3*100>100&&e.jsx("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-purple-800 to-purple-900 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a*.1/36e3*100-100)}%`}})]})]}),e.jsxs("div",{className:"text-sm text-purple-800 font-medium",children:["R$ ",(a*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})," / R$ ",Math.max(0,36e3-a*.1).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]})},ea=async()=>{try{ue(!1);const t=Ne?ps():A;if(t.length===0){alert("N√£o h√° transa√ß√µes para exportar!");return}let s=0,a=0,r=0;Ae&&(s=t.filter(p=>p.type==="Receita").reduce((p,v)=>p+v.value,0),a=t.filter(p=>p.type==="Despesa").reduce((p,v)=>p+v.value,0),r=s-a);const l=document.createElement("div");l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",l.style.width="800px",l.style.backgroundColor="white",l.style.padding="20px",l.style.fontFamily="Arial, sans-serif";let m="Todas as transa√ß√µes";if(Ne){const p=[];$.type&&p.push(`Tipo: ${$.type}`),$.category&&p.push(`Categoria: ${$.category}`),$.dateFrom&&p.push(`De: ${new Date($.dateFrom).toLocaleDateString("pt-BR")}`),$.dateTo&&p.push(`At√©: ${new Date($.dateTo).toLocaleDateString("pt-BR")}`),p.length>0?m=`Transa√ß√µes filtradas: ${p.join(", ")}`:m="Todas as transa√ß√µes (sem filtros ativos)"}let n=`
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #f59e0b; font-size: 28px; margin: 0; font-weight: bold;">ALYA VELAS</h1>
          <h2 style="color: #374151; font-size: 24px; margin: 10px 0; font-weight: bold;">Relat√≥rio de Transa√ß√µes</h2>
          <p style="color: #6b7280; font-size: 14px; margin: 5px 0;">${m}</p>
          <p style="color: #6b7280; font-size: 14px; margin: 0;">Gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}</p>
        </div>
      `;Ae&&(n+=`
          <div style="margin-bottom: 30px;">
            <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìä Resumo Executivo</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Total de Receitas</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">R$ ${s.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Total de Despesas</div>
                <div style="font-size: 18px; font-weight: bold; color: #dc2626;">R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: ${r>=0?"#f0fdf4":"#fef2f2"}; padding: 15px; border-radius: 8px; border-left: 4px solid ${r>=0?"#10b981":"#ef4444"};">
                <div style="font-weight: bold; color: ${r>=0?"#10b981":"#ef4444"}; margin-bottom: 5px;">Saldo</div>
                <div style="font-size: 18px; font-weight: bold; color: ${r>=0?"#059669":"#dc2626"};">R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Quantidade de Transa√ß√µes</div>
                <div style="font-size: 18px; font-weight: bold; color: #d97706;">${t.length}</div>
              </div>
            </div>
          </div>
        `),n+=`
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìã Lista de Transa√ß√µes</h3>
          <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; background: white;">
              <thead>
                <tr style="background: linear-gradient(to right, #fef3c7, #fed7aa); border-bottom: 2px solid #f59e0b;">
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Data</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Descri√ß√£o</th>
                  <th style="padding: 12px; text-align: center; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Tipo</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Categoria</th>
                  <th style="padding: 12px; text-align: right; font-weight: bold; color: #92400e;">Valor</th>
                </tr>
              </thead>
              <tbody>
      `,t.forEach((p,v)=>{const h=new Date(p.date).toLocaleDateString("pt-BR"),D=p.value.toLocaleString("pt-BR",{minimumFractionDigits:2}),O=p.type==="Receita"?"#10b981":"#ef4444",H=p.type==="Receita"?"#f0fdf4":"#fef2f2",d=p.type==="Receita"?"#059669":"#dc2626",k=p.type==="Receita"?"+":"-",he=v%2===0?"#ffffff":"#f9fafb";n+=`
          <tr style="background: ${he}; border-bottom: 1px solid #e5e7eb;">
            <td style="padding: 10px; color: #374151;">${h}</td>
            <td style="padding: 10px; color: #374151; font-weight: 500;">${p.description}</td>
            <td style="padding: 10px; text-align: center;">
              <span style="background: ${H}; color: ${O}; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                ${p.type}
              </span>
            </td>
            <td style="padding: 10px; color: #6b7280;">${p.category}</td>
            <td style="padding: 10px; text-align: right; font-weight: bold; color: ${d};">
              ${k}R$ ${D}
            </td>
          </tr>
        `}),n+=`
              </tbody>
            </table>
          </div>
        </div>
      `,n+=`
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
          <p style="color: #6b7280; font-size: 12px; margin: 0;">
            Relat√≥rio gerado automaticamente pelo sistema Alya Velas<br>
            Dados baseados em transa√ß√µes ${Ne?"filtradas":"completas"}<br>
            Para mais informa√ß√µes, acesse o painel administrativo
          </p>
        </div>
      `,l.innerHTML=n,document.body.appendChild(l);const i=await Et(l,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(l);const g=i.toDataURL("image/png"),x=new Pt("p","mm","a4"),N=210,J=295,T=i.height*N/i.width;let L=T,ae=0;for(x.addImage(g,"PNG",0,ae,N,T),L-=J;L>=0;)ae=L-T,x.addPage(),x.addImage(g,"PNG",0,ae,N,T),L-=J;const j=`Transacoes_${Ne?"Filtradas":"Completas"}_${new Date().toISOString().split("T")[0]}.pdf`;x.save(j),alert(`‚úÖ Relat√≥rio PDF exportado com sucesso!
Arquivo: ${j}

üìä Dados inclu√≠dos:
‚Ä¢ Total de transa√ß√µes: ${t.length}${Ae?`
‚Ä¢ Total de Receitas: R$ ${s.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Total de Despesas: R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Saldo: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:""}`)}catch(t){console.error("Erro ao exportar PDF:",t),alert("‚ùå Erro ao exportar PDF. Tente novamente.")}},ta=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(Ze,{className:"w-8 h-8 text-green-600"}),"Transa√ß√µes"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Exportar PDF"]}),e.jsxs("button",{onClick:()=>{M("transactions"),o(!0)},className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Importar/Exportar"]}),e.jsxs("button",{onClick:()=>Ce(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Nova Transa√ß√£o"]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-lg border border-amber-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-amber-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase tracking-wide",children:"FILTRE SEUS ITENS:"})]}),e.jsxs("div",{className:"flex items-end gap-1 sm:gap-2 md:gap-3 lg:gap-4 flex-1",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate truncate",children:"Tipo"}),e.jsxs("select",{value:$.type,onChange:t=>ot(s=>({...s,type:t.target.value,category:""})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full",children:[e.jsx("option",{value:"",children:"Todos os tipos"}),e.jsx("option",{value:"Receita",children:"Receitas"}),e.jsx("option",{value:"Despesa",children:"Despesas"})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate truncate",children:"Categoria"}),e.jsxs("select",{value:$.category,onChange:t=>ot(s=>({...s,category:t.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full",children:[e.jsx("option",{value:"",children:"Todas as categorias"}),$.type?Vt($.type).map(t=>e.jsx("option",{value:t,children:t},t)):e.jsxs(e.Fragment,{children:[e.jsx("optgroup",{label:"Receita",children:Vt("Receita").map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("optgroup",{label:"Despesa",children:Vt("Despesa").map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate truncate",children:"Data In√≠cio"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"In√≠cio",value:$.dateFrom?Kt($.dateFrom):"",readOnly:!0,onClick:ks,className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white cursor-pointer w-full"}),e.jsx(dt,{className:"absolute right-1 sm:right-2 md:right-3 top-1/2 transform -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-amber-600 pointer-events-none"}),Bt&&Js()]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate truncate",children:"Data Fim"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Fim",value:$.dateTo?Kt($.dateTo):"",readOnly:!0,onClick:Fs,className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white cursor-pointer w-full"}),e.jsx(dt,{className:"absolute right-1 sm:right-2 md:right-3 top-1/2 transform -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-amber-600 pointer-events-none"}),zt&&Ys()]})]})]}),e.jsx("div",{className:"lg:ml-auto",children:e.jsx("button",{onClick:qs,className:"px-2 sm:px-3 md:px-4 py-1 sm:py-2 bg-amber-600 text-white rounded-md text-xs sm:text-sm hover:bg-amber-700 transition-colors w-full lg:w-auto",children:"Limpar Filtros"})})]})}),e.jsx("div",{className:"space-y-4",children:A.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Nenhuma transa√ß√£o encontrada."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Adicione sua primeira transa√ß√£o clicando no bot√£o "Nova Transa√ß√£o".'})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-100 border-b border-amber-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"checkbox",checked:A.length>0&&ve.size===A.length,onChange:Os,className:"w-4 h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsxs("button",{onClick:()=>De("date"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-20 sm:w-24",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Data"}),Re("date")]}),e.jsxs("button",{onClick:()=>De("description"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Descri√ß√£o"}),Re("description")]}),e.jsxs("button",{onClick:()=>De("type"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-16 sm:w-20",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Tipo"}),Re("type")]}),e.jsxs("button",{onClick:()=>De("category"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-20 sm:w-24",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Categoria"}),Re("category")]}),e.jsxs("button",{onClick:()=>De("value"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-20 sm:w-24",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Valor"}),Re("value")]}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 flex justify-center",children:e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"A√ß√µes"})})]})}),ps().map((t,s)=>e.jsx("div",{className:`bg-white border-b border-gray-100 p-4 hover:bg-amber-50/30 transition-all duration-200 ${s===A.length-1?"border-b-0":""}`,children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 text-left",children:e.jsx("input",{type:"checkbox",checked:ve.has(t.id),onChange:()=>zs(t.id),className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsx("div",{className:"flex-shrink-0 w-20 sm:w-24 text-left",children:e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:new Date(t.date).toLocaleDateString("pt-BR")})}),e.jsx("div",{className:"flex-1 min-w-0 text-left",children:e.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:t.description})}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 text-center",children:e.jsx("span",{className:`px-0.5 sm:px-1 py-0.5 rounded-full text-xs font-medium ${t.type==="Receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.type})}),e.jsx("div",{className:"flex-shrink-0 w-20 sm:w-24 text-center",children:e.jsx("span",{className:"text-xs sm:text-sm text-gray-600 bg-gray-50 px-0.5 sm:px-1 py-0.5 rounded-md truncate",children:t.category})}),e.jsx("div",{className:"flex-shrink-0 w-20 sm:w-24 text-center",children:e.jsxs("p",{className:`text-xs sm:text-sm md:text-lg font-bold ${t.type==="Receita"?"text-green-600":"text-red-600"} truncate`,children:[t.type==="Receita"?"+":"-","R$ ",t.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsxs("div",{className:"flex-shrink-0 w-16 sm:w-20 flex gap-0.5 sm:gap-1 justify-center",children:[e.jsx("button",{onClick:()=>Ks(t),className:"p-0.5 sm:p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full transition-all duration-200",title:"Editar transa√ß√£o",children:e.jsx(ss,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),e.jsx("button",{onClick:async()=>{if(confirm("Tem certeza que deseja excluir esta transa√ß√£o?"))try{await P(t.id)&&Se(r=>r.filter(l=>l.id!==t.id))}catch(a){console.error("Erro ao deletar transa√ß√£o:",a)}},className:"p-0.5 sm:p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-all duration-200",title:"Excluir transa√ß√£o",children:e.jsx(vt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]})]})},t.id)),ve.size>0&&e.jsx("div",{className:"flex justify-end p-4 bg-red-50 border-t border-red-200",children:e.jsxs("button",{onClick:Is,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(vt,{className:"h-4 w-4"}),"Deletar Selecionada",ve.size>1?"s":""," (",ve.size,")"]})})]})})]}),sa=async()=>{try{Me(!1);const t=ke?gs():te;if(t.length===0){alert("N√£o h√° produtos para exportar!");return}let s=t.length,a=0,r=0,l=0,m=0,n=0,i=0,g=0,x={};Fe&&(t.forEach(d=>{if(a+=d.price*d.stock,r+=d.cost*d.stock,n+=d.sold,d.stock>0?i++:g++,x[d.category]=(x[d.category]||0)+1,d.price>0){const k=(d.price-d.cost)/d.price*100;m+=k}}),l=a-r,m=t.length>0?m/t.length:0);const N=document.createElement("div");N.style.position="absolute",N.style.left="-9999px",N.style.top="-9999px",N.style.width="800px",N.style.backgroundColor="white",N.style.padding="20px",N.style.fontFamily="Arial, sans-serif";let J="Todos os produtos";if(ke){const d=[];z.category&&d.push(`Categoria: ${z.category}`),z.stockFilter==="inStock"&&d.push("Em estoque"),z.stockFilter==="outOfStock"&&d.push("Sem estoque"),z.soldFilter==="sold"&&d.push("Vendidos"),z.soldFilter==="notSold"&&d.push("N√£o vendidos"),z.costFilter==="withCost"&&d.push("Com pre√ßo de custo"),z.costFilter==="withoutCost"&&d.push("Sem pre√ßo de custo"),d.length>0?J=`Produtos filtrados: ${d.join(", ")}`:J="Todos os produtos (sem filtros ativos)"}let T=`
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #f59e0b; font-size: 28px; margin: 0; font-weight: bold;">ALYA VELAS</h1>
          <h2 style="color: #374151; font-size: 24px; margin: 10px 0; font-weight: bold;">Relat√≥rio de Produtos</h2>
          <p style="color: #6b7280; font-size: 14px; margin: 5px 0;">${J}</p>
          <p style="color: #6b7280; font-size: 14px; margin: 0;">Gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}</p>
        </div>
      `;Fe&&(T+=`
          <div style="margin-bottom: 30px;">
            <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìä Resumo Estat√≠stico</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
              <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Total de Produtos</div>
                <div style="font-size: 18px; font-weight: bold; color: #d97706;">${s}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Valor Total do Estoque</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Custo Total do Estoque</div>
                <div style="font-size: 18px; font-weight: bold; color: #dc2626;">R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: ${l>=0?"#f0fdf4":"#fef2f2"}; padding: 15px; border-radius: 8px; border-left: 4px solid ${l>=0?"#10b981":"#ef4444"};">
                <div style="font-weight: bold; color: ${l>=0?"#10b981":"#ef4444"}; margin-bottom: 5px;">Lucro Potencial</div>
                <div style="font-size: 18px; font-weight: bold; color: ${l>=0?"#059669":"#dc2626"};">R$ ${l.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Margem de Lucro M√©dia</div>
                <div style="font-size: 18px; font-weight: bold; color: #d97706;">${m.toFixed(1)}%</div>
              </div>
              <div style="background: #eff6ff; padding: 15px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                <div style="font-weight: bold; color: #3b82f6; margin-bottom: 5px;">Total Vendidos</div>
                <div style="font-size: 18px; font-weight: bold; color: #2563eb;">${n}</div>
              </div>
              <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Em Estoque</div>
                <div style="font-size: 18px; font-weight: bold; color: #059669;">${i}</div>
              </div>
              <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Sem Estoque</div>
                <div style="font-size: 18px; font-weight: bold; color: #dc2626;">${g}</div>
              </div>
            </div>
            
            ${Object.keys(x).length>0?`
              <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; margin-top: 15px;">
                <h4 style="color: #374151; font-size: 16px; margin-bottom: 10px; font-weight: bold;">Distribui√ß√£o por Categoria:</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                  ${Object.entries(x).map(([d,k])=>`
                    <div style="text-align: center; padding: 8px; background: white; border-radius: 6px; border: 1px solid #e2e8f0;">
                      <div style="font-weight: bold; color: #f59e0b; font-size: 18px;">${k}</div>
                      <div style="font-size: 12px; color: #6b7280;">${d}</div>
                    </div>
                  `).join("")}
                </div>
              </div>
            `:""}
          </div>
        `),T+=`
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üì¶ Lista de Produtos</h3>
          <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; background: white;">
              <thead>
                <tr style="background: linear-gradient(to right, #fef3c7, #fed7aa); border-bottom: 2px solid #f59e0b;">
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Nome</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Categoria</th>
                  <th style="padding: 12px; text-align: right; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Pre√ßo</th>
                  <th style="padding: 12px; text-align: right; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Custo</th>
                  <th style="padding: 12px; text-align: center; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Estoque</th>
                  <th style="padding: 12px; text-align: center; font-weight: bold; color: #92400e; border-right: 1px solid #fbbf24;">Vendidos</th>
                  <th style="padding: 12px; text-align: right; font-weight: bold; color: #92400e;">Margem</th>
                </tr>
              </thead>
              <tbody>
      `,t.forEach((d,k)=>{const he=d.price.toLocaleString("pt-BR",{minimumFractionDigits:2}),we=d.cost.toLocaleString("pt-BR",{minimumFractionDigits:2});let I=0,_="#6b7280";d.price>0&&(I=(d.price-d.cost)/d.price*100,_=I>=0?"#10b981":"#ef4444");let se="#ef4444";d.stock>10?se="#10b981":d.stock>0&&(se="#f59e0b");const E=k%2===0?"#ffffff":"#f9fafb";T+=`
          <tr style="background: ${E}; border-bottom: 1px solid #e5e7eb;">
            <td style="padding: 10px; color: #374151; font-weight: 500;">${d.name}</td>
            <td style="padding: 10px; color: #6b7280;">${d.category}</td>
            <td style="padding: 10px; text-align: right; font-weight: bold; color: #10b981;">R$ ${he}</td>
            <td style="padding: 10px; text-align: right; font-weight: bold; color: #f97316;">R$ ${we}</td>
            <td style="padding: 10px; text-align: center; font-weight: bold; color: ${se};">${d.stock}</td>
            <td style="padding: 10px; text-align: center; font-weight: bold; color: #3b82f6;">${d.sold}</td>
            <td style="padding: 10px; text-align: right; font-weight: bold; color: ${_};">${I.toFixed(1)}%</td>
          </tr>
        `}),T+=`
              </tbody>
            </table>
          </div>
        </div>
      `,T+=`
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
          <p style="color: #6b7280; font-size: 12px; margin: 0;">
            Relat√≥rio gerado automaticamente pelo sistema Alya Velas<br>
            Dados baseados em produtos ${ke?"filtrados":"completos"}<br>
            Para mais informa√ß√µes, acesse o painel administrativo
          </p>
        </div>
      `,N.innerHTML=T,document.body.appendChild(N);const L=await Et(N,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(N);const ae=L.toDataURL("image/png"),j=new Pt("p","mm","a4"),p=210,v=295,h=L.height*p/L.width;let D=h,O=0;for(j.addImage(ae,"PNG",0,O,p,h),D-=v;D>=0;)O=D-h,j.addPage(),j.addImage(ae,"PNG",0,O,p,h),D-=v;const H=`Produtos_${ke?"Filtrados":"Completos"}_${new Date().toISOString().split("T")[0]}.pdf`;j.save(H),alert(`‚úÖ Relat√≥rio PDF exportado com sucesso!
Arquivo: ${H}

üìä Dados inclu√≠dos:
‚Ä¢ Total de produtos: ${s}${Fe?`
‚Ä¢ Valor total do estoque: R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Custo total do estoque: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Lucro potencial: R$ ${l.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Margem m√©dia: ${m.toFixed(1)}%`:""}`)}catch(t){console.error("Erro ao exportar PDF:",t),alert("‚ùå Erro ao exportar PDF. Tente novamente.")}},aa=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(Qt,{className:"w-8 h-8 text-purple-600"}),"Produtos"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>Me(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Exportar PDF"]}),e.jsxs("button",{onClick:()=>{M("products"),o(!0)},className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Importar/Exportar"]}),e.jsxs("button",{onClick:()=>$e(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Novo Produto"]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-lg border border-amber-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-amber-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase tracking-wide",children:"FILTRE SEUS ITENS:"})]}),e.jsxs("div",{className:"flex items-end gap-1 sm:gap-2 md:gap-3 lg:gap-4 flex-1",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Categoria"}),e.jsx("input",{type:"text",placeholder:"Categoria...",value:z.category,onChange:t=>St(s=>({...s,category:t.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full"})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Estoque"}),e.jsxs("select",{value:z.stockFilter,onChange:t=>St(s=>({...s,stockFilter:t.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full",children:[e.jsx("option",{value:"",children:"Todos os estoques"}),e.jsx("option",{value:"inStock",children:"Em estoque"}),e.jsx("option",{value:"outOfStock",children:"Sem estoque"})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Vendidos"}),e.jsxs("select",{value:z.soldFilter,onChange:t=>St(s=>({...s,soldFilter:t.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full",children:[e.jsx("option",{value:"",children:"Todos os vendidos"}),e.jsx("option",{value:"sold",children:"Vendidos"}),e.jsx("option",{value:"notSold",children:"N√£o vendidos"})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 truncate",children:"Pre√ßo de Custo"}),e.jsxs("select",{value:z.costFilter,onChange:t=>St(s=>({...s,costFilter:t.target.value})),className:"px-1 sm:px-2 md:px-3 py-1 sm:py-2 border border-amber-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white w-full",children:[e.jsx("option",{value:"",children:"Todos os custos"}),e.jsx("option",{value:"withCost",children:"Com pre√ßo de custo"}),e.jsx("option",{value:"withoutCost",children:"Sem pre√ßo de custo"})]})]})]}),e.jsx("div",{className:"lg:ml-auto",children:e.jsx("button",{onClick:Vs,className:"px-4 py-2 bg-amber-600 text-white rounded-md text-sm hover:bg-amber-700 transition-colors w-full lg:w-auto",children:"Limpar Filtros"})})]})}),e.jsx("div",{className:"space-y-4",children:te.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Nenhum produto encontrado."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Adicione seu primeiro produto clicando no bot√£o "Novo Produto".'})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-100 border-b border-amber-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"checkbox",checked:te.length>0&&ce.size===te.length,onChange:Ms,className:"w-4 h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsxs("button",{onClick:()=>De("name"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Nome"}),Re("name")]}),e.jsxs("button",{onClick:()=>De("category"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-20 sm:w-24",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide truncate",children:"Categoria"}),Re("category")]}),e.jsxs("button",{onClick:()=>De("price"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-20 sm:w-24",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Pre√ßo"}),Re("price")]}),e.jsxs("button",{onClick:()=>De("cost"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-16 sm:w-20",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Custo"}),Re("cost")]}),e.jsxs("button",{onClick:()=>De("stock"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-16 sm:w-20",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Estoque"}),Re("stock")]}),e.jsxs("button",{onClick:()=>De("sold"),className:"flex items-center justify-center gap-1 hover:bg-amber-100 rounded px-1 sm:px-2 py-1 transition-colors flex-shrink-0 w-16 sm:w-20",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"Vendidos"}),Re("sold")]}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 flex justify-center",children:e.jsx("p",{className:"text-xs sm:text-sm font-bold text-amber-800 uppercase tracking-wide",children:"A√ß√µes"})})]})}),gs().map((t,s)=>e.jsx("div",{className:`bg-white border-b border-gray-100 p-4 hover:bg-amber-50/30 transition-all duration-200 ${s===te.length-1?"border-b-0":""}`,children:e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 lg:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 text-left",children:e.jsx("input",{type:"checkbox",checked:ce.has(t.id),onChange:()=>As(t.id),className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"})}),e.jsx("div",{className:"flex-1 min-w-0 text-left",children:e.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:t.name})}),e.jsx("div",{className:"flex-shrink-0 w-20 sm:w-24 text-center",children:e.jsx("span",{className:"text-xs sm:text-sm text-gray-600 bg-gray-50 px-0.5 sm:px-1 py-0.5 rounded-md truncate",children:t.category})}),e.jsx("div",{className:"flex-shrink-0 w-20 sm:w-24 text-center",children:e.jsxs("p",{className:"text-xs sm:text-sm md:text-lg font-bold text-green-600 truncate",children:["R$ ",t.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 text-center",children:e.jsxs("p",{className:"text-xs sm:text-sm md:text-lg font-bold text-orange-600 truncate",children:["R$ ",t.cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 text-center",children:e.jsx("p",{className:`text-xs sm:text-sm md:text-lg font-bold ${t.stock>10?"text-green-600":t.stock>0?"text-yellow-600":"text-red-600"} truncate`,children:t.stock})}),e.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 text-center",children:e.jsx("p",{className:"text-xs sm:text-sm md:text-lg font-bold text-blue-600 truncate",children:t.sold})}),e.jsxs("div",{className:"flex-shrink-0 w-16 sm:w-20 flex gap-0.5 sm:gap-1 justify-center",children:[e.jsx("button",{onClick:()=>Gs(t),className:"p-0.5 sm:p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full transition-all duration-200",title:"Editar produto",children:e.jsx(ss,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),e.jsx("button",{onClick:async()=>{if(confirm("Tem certeza que deseja excluir este produto?"))try{await ne(t.id)&&fe(r=>r.filter(l=>l.id!==t.id))}catch(a){console.error("Erro ao deletar produto:",a)}},className:"p-0.5 sm:p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-all duration-200",title:"Excluir produto",children:e.jsx(vt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]})]})},t.id)),ce.size>0&&e.jsx("div",{className:"flex justify-end p-4 bg-red-50 border-t border-red-200",children:e.jsxs("button",{onClick:Bs,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(vt,{className:"h-4 w-4"}),"Deletar Selecionado",ce.size>1?"s":""," (",ce.size,")"]})})]})})]}),ra=()=>{Pe(!0)},kt=async t=>{try{Pe(!1);const s=new Date,a=new Date(s);a.setDate(s.getDate()-s.getDay()),a.setHours(0,0,0,0);const r=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),Math.floor(s.getMonth()/3)*3,1),m=new Date(s.getFullYear(),0,1),n=A.filter(I=>new Date(I.date)>=a),i=A.filter(I=>new Date(I.date)>=r),g=A.filter(I=>new Date(I.date)>=l),x=A.filter(I=>new Date(I.date)>=m),N=I=>{const _={};I.forEach(E=>{E.type==="Receita"&&(_[E.category]=(_[E.category]||0)+E.value)});const se=["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4"];return Object.entries(_).map(([E,me],b)=>({nome:E,valor:me,cor:se[b%se.length]}))},J=I=>{const _={};I.forEach(E=>{E.type==="Despesa"&&(_[E.category]=(_[E.category]||0)+E.value)});const se=["#ef4444","#f97316","#84cc16","#f59e0b","#8b5cf6"];return Object.entries(_).map(([E,me],b)=>({nome:E,valor:me,cor:se[b%se.length]}))},T=I=>{const _={};I.forEach(E=>{if(E.type==="Receita"){const me=E.description||"Produto sem nome";_[me]=(_[me]||0)+E.value}});const se=["#8b5cf6","#ec4899","#06b6d4","#22c55e","#3b82f6"];return Object.entries(_).sort(([,E],[,me])=>me-E).slice(0,5).map(([E,me],b)=>({nome:E,valor:me,cor:se[b%se.length]}))},L=[];if(t==="Todos")L.push({nome:"Semana",transacoes:n},{nome:"M√™s",transacoes:i},{nome:"Trimestre",transacoes:g},{nome:"Ano",transacoes:x});else{const I={Semana:n,M√™s:i,Trimestre:g,Ano:x};L.push({nome:t,transacoes:I[t]||[]})}if(!L.some(I=>I.transacoes.length>0)){alert("N√£o h√° dados para exportar no per√≠odo selecionado!");return}const j=document.createElement("div");j.style.position="absolute",j.style.left="-9999px",j.style.top="-9999px",j.style.width="800px",j.style.backgroundColor="white",j.style.padding="20px",j.style.fontFamily="Arial, sans-serif";let p="";p+=`
        <div style="text-align: center; margin-bottom: 40px;">
          <h1 style="color: #f59e0b; font-size: 28px; margin: 0; font-weight: bold;">ALYA VELAS</h1>
          <h2 style="color: #374151; font-size: 24px; margin: 10px 0; font-weight: bold;">Relat√≥rio Financeiro${t==="Todos"?"":" - "+t}</h2>
          <p style="color: #6b7280; font-size: 14px; margin: 0;">Gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}</p>
        </div>
      `,L.forEach((I,_)=>{const se=N(I.transacoes),E=T(I.transacoes),me=J(I.transacoes),b=se.reduce((xe,it)=>xe+it.valor,0),G=me.reduce((xe,it)=>xe+it.valor,0),le=b-G,bt=b>0?le/b*100:0;p+=`
          <div style="margin-bottom: ${_<L.length-1?"50px":"30px"}; page-break-after: ${_<L.length-1?"always":"auto"};">
            <h3 style="color: #f59e0b; font-size: 22px; margin-bottom: 20px; border-bottom: 3px solid #f59e0b; padding-bottom: 10px;">üìä Relat√≥rio ${I.nome}</h3>
            
            <!-- Resumo Executivo -->
            <div style="margin-bottom: 30px;">
              <h4 style="color: #f59e0b; font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">Resumo Executivo</h4>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                  <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Total Vendas</div>
                  <div style="font-size: 18px; font-weight: bold; color: #059669;">R$ ${b.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
                </div>
                <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
                  <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Total Despesas</div>
                  <div style="font-size: 18px; font-weight: bold; color: #dc2626;">R$ ${G.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
                </div>
                <div style="background: ${le>=0?"#f0fdf4":"#fef2f2"}; padding: 15px; border-radius: 8px; border-left: 4px solid ${le>=0?"#10b981":"#ef4444"};">
                  <div style="font-weight: bold; color: ${le>=0?"#10b981":"#ef4444"}; margin-bottom: 5px;">Lucro L√≠quido</div>
                  <div style="font-size: 18px; font-weight: bold; color: ${le>=0?"#059669":"#dc2626"};">R$ ${le.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
                </div>
                <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                  <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Margem de Lucro</div>
                  <div style="font-size: 18px; font-weight: bold; color: #d97706;">${bt.toFixed(1)}%</div>
                </div>
              </div>
            </div>

            <!-- Vendas por Categoria -->
            <div style="margin-bottom: 30px;">
              <h4 style="color: #f59e0b; font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìà Vendas por Categoria</h4>
              <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                ${se.length>0?se.map(xe=>`
                  <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #e2e8f0;">
                    <span style="font-weight: bold; color: #374151;">${xe.nome}</span>
                    <span style="font-weight: bold; color: #10b981;">R$ ${xe.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>
                  </div>
                `).join(""):'<p style="color: #6b7280; text-align: center;">Nenhuma venda registrada</p>'}
                <div style="display: flex; justify-content: space-between; padding: 15px; margin-top: 10px; background: #f0fdf4; border-radius: 8px; border: 2px solid #10b981;">
                  <span style="font-weight: bold; color: #10b981; font-size: 16px;">Total</span>
                  <span style="font-weight: bold; color: #10b981; font-size: 16px;">R$ ${b.toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>
                </div>
              </div>
            </div>

            <!-- Vendas por Produto (Top 5) -->
            <div style="margin-bottom: 30px;">
              <h4 style="color: #f59e0b; font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üì¶ Top 5 Produtos</h4>
              <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                ${E.length>0?E.map((xe,it)=>`
                  <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #e2e8f0;">
                    <span style="font-weight: bold; color: #374151;">${it+1}. ${xe.nome}</span>
                    <span style="font-weight: bold; color: #3b82f6;">R$ ${xe.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>
                  </div>
                `).join(""):'<p style="color: #6b7280; text-align: center;">Nenhum produto vendido</p>'}
              </div>
            </div>

            <!-- Despesas por Categoria -->
            <div style="margin-bottom: 30px;">
              <h4 style="color: #f59e0b; font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üí∏ Despesas por Categoria</h4>
              <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                ${me.length>0?me.map(xe=>`
                  <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #e2e8f0;">
                    <span style="font-weight: bold; color: #374151;">${xe.nome}</span>
                    <span style="font-weight: bold; color: #ef4444;">R$ ${xe.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>
                  </div>
                `).join(""):'<p style="color: #6b7280; text-align: center;">Nenhuma despesa registrada</p>'}
                <div style="display: flex; justify-content: space-between; padding: 15px; margin-top: 10px; background: #fef2f2; border-radius: 8px; border: 2px solid #ef4444;">
                  <span style="font-weight: bold; color: #ef4444; font-size: 16px;">Total</span>
                  <span style="font-weight: bold; color: #ef4444; font-size: 16px;">R$ ${G.toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>
                </div>
              </div>
            </div>
          </div>
        `}),p+=`
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
          <p style="color: #6b7280; font-size: 12px; margin: 0;">
            Relat√≥rio gerado automaticamente pelo sistema Alya Velas<br>
            Dados baseados em transa√ß√µes reais do per√≠odo<br>
            Para mais informa√ß√µes, acesse o painel administrativo
          </p>
        </div>
      `,j.innerHTML=p,document.body.appendChild(j);const v=await Et(j,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(j);const h=v.toDataURL("image/png"),D=new Pt("p","mm","a4"),O=210,H=295,d=v.height*O/v.width;let k=d,he=0;for(D.addImage(h,"PNG",0,he,O,d),k-=H;k>=0;)he=k-d,D.addPage(),D.addImage(h,"PNG",0,he,O,d),k-=H;const we=`Relatorio_${t==="Todos"?"Completo":t}_${new Date().toISOString().split("T")[0]}.pdf`;D.save(we),alert(`‚úÖ Relat√≥rio PDF exportado com sucesso!
Arquivo: ${we}

üìä Per√≠odo: ${t}
üìà Total de per√≠odos: ${L.length}`)}catch(s){console.error("Erro ao exportar PDF:",s),alert("‚ùå Erro ao exportar PDF. Tente novamente.")}},oa=()=>{const t=new Date,s=new Date(t);s.setDate(t.getDate()-t.getDay()),s.setHours(0,0,0,0);const a=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),Math.floor(t.getMonth()/3)*3,1),l=new Date(t.getFullYear(),0,1),m=A.filter(j=>new Date(j.date)>=s),n=A.filter(j=>new Date(j.date)>=a),i=A.filter(j=>new Date(j.date)>=r),g=A.filter(j=>new Date(j.date)>=l),x=j=>{const p={};j.forEach(h=>{h.type==="Receita"&&(p[h.category]=(p[h.category]||0)+h.value)});const v=["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4"];return Object.entries(p).map(([h,D],O)=>({nome:h,valor:D,cor:v[O%v.length]}))},N=j=>{const p={};j.forEach(h=>{h.type==="Despesa"&&(p[h.category]=(p[h.category]||0)+h.value)});const v=["#ef4444","#f97316","#84cc16","#f59e0b","#8b5cf6"];return Object.entries(p).map(([h,D],O)=>({nome:h,valor:D,cor:v[O%v.length]}))},J=j=>{const p={};j.forEach(h=>{if(h.type==="Receita"){const D=h.description||"Produto sem nome";p[D]=(p[D]||0)+h.value}});const v=["#8b5cf6","#ec4899","#06b6d4","#22c55e","#3b82f6"];return Object.entries(p).sort(([,h],[,D])=>D-h).slice(0,5).map(([h,D],O)=>({nome:h,valor:D,cor:v[O%v.length]}))},T=(j,p)=>{const v={};return j.forEach(h=>{if(h.type==="Receita"){const D=new Date(h.date);let O;p==="dia"?O=["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"][D.getDay()]:O=`Sem ${Math.ceil(D.getDate()/7)}`,v[O]||(v[O]={});const H=h.description||"Produto sem nome";v[O][H]=(v[O][H]||0)+1}}),Object.entries(v).map(([h,D])=>({nome:h,...D}))},L={semana:{vendasPorCategoria:x(m),vendasPorProduto:J(m),despesasPorCategoria:N(m),produtosPorDia:T(m,"dia")},mes:{vendasPorCategoria:x(n),vendasPorProduto:J(n),despesasPorCategoria:N(n),produtosPorSemana:T(n,"semana")},trimestre:{vendasPorCategoria:x(i),vendasPorProduto:J(i),despesasPorCategoria:N(i),produtosPorMes:T(i,"semana")},ano:{vendasPorCategoria:x(g),vendasPorProduto:J(g),despesasPorCategoria:N(g),produtosPorTrimestre:T(g,"semana")}},ae=(j,p,v)=>{const h=p.vendasPorCategoria.reduce((d,k)=>d+k.valor,0),D=p.vendasPorProduto.reduce((d,k)=>d+k.valor,0),O=p.despesasPorCategoria.reduce((d,k)=>d+k.valor,0),H=h-O;return e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:j}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("span",{className:"text-gray-400 text-lg mr-3",children:"üìà"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Vendas por Categoria"})]}),e.jsx("div",{className:"space-y-3",children:p.vendasPorCategoria.map((d,k)=>{const he=["bg-green-100","bg-green-100","bg-green-100"],we=["bg-green-200","bg-green-200","bg-green-200"],I=["text-green-800","text-green-800","text-green-800"],_=`vendas-categoria-${v}-${k}`;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`${he[k]} p-4 rounded-xl flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>lt(_),children:[e.jsx("span",{className:`${we[k]} ${I[k]} font-medium px-4 py-2 rounded-lg min-w-0 flex-shrink-0`,children:d.nome}),e.jsxs("span",{className:"font-bold text-gray-500 ml-4 text-right",children:["R$ ",d.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(_)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:250,children:e.jsxs(Ge,{data:[{name:d.nome,valor:d.valor}],children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"name"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:se=>[`R$ ${se.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:d.cor})]})})})]},k)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-green-200 p-4 rounded-xl flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>lt(`total-vendas-categoria-${v}`),children:[e.jsx("span",{className:"bg-green-300 text-green-800 font-bold px-4 py-2 rounded-lg min-w-0 flex-shrink-0",children:"Total Vendas por Categoria"}),e.jsxs("span",{className:"font-bold text-green-800 text-lg ml-4 text-right",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(`total-vendas-categoria-${v}`)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Ge,{data:p.vendasPorCategoria,children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"nome"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:d=>[`R$ ${d.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:"#22c55e"})]})})})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsx("h4",{className:"text-md font-bold text-gray-700",children:"Vendas por Tipo de Produto"})}),e.jsx("div",{className:"space-y-3",children:p.vendasPorProduto.map((d,k)=>{const he=["bg-blue-100","bg-blue-100","bg-blue-100"],we=["bg-blue-200","bg-blue-200","bg-blue-200"],I=["text-blue-800","text-blue-800","text-blue-800"],_=`vendas-produto-${v}-${k}`;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`${he[k]} p-3 rounded-lg flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>lt(_),children:[e.jsx("span",{className:`${we[k]} ${I[k]} font-medium text-sm px-3 py-2 rounded min-w-0 flex-shrink-0`,children:d.nome}),e.jsxs("span",{className:"font-bold text-blue-900 text-sm ml-3 text-right",children:["R$ ",d.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(_)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:250,children:e.jsxs(Ge,{data:[{name:d.nome,valor:d.valor}],children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"name"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:se=>[`R$ ${se.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:d.cor})]})})})]},k)})}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-blue-200 p-3 rounded-lg flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>lt(`total-vendas-produto-${v}`),children:[e.jsx("span",{className:"bg-blue-300 text-blue-800 font-bold text-sm px-3 py-2 rounded min-w-0 flex-shrink-0",children:"Total por Produto"}),e.jsxs("span",{className:"font-bold text-blue-800 text-sm ml-3 text-right",children:["R$ ",D.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(`total-vendas-produto-${v}`)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Ge,{data:p.vendasPorProduto,children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"nome"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:d=>[`R$ ${d.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:"#3b82f6"})]})})})]})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("span",{className:"text-gray-400 text-lg mr-3",children:"üí∏"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Despesas por Categoria"})]}),e.jsx("div",{className:"space-y-3",children:p.despesasPorCategoria.map((d,k)=>{const he=`despesas-categoria-${v}-${k}`;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>lt(he),children:[e.jsx("span",{className:"bg-orange-100 text-orange-700 font-medium px-4 py-2 rounded-lg min-w-0 flex-shrink-0",children:d.nome}),e.jsxs("span",{className:"font-bold text-gray-500 ml-4 text-right",children:["R$ ",d.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(he)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:250,children:e.jsxs(Ge,{data:[{name:d.nome,valor:d.valor}],children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"name"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:we=>[`R$ ${we.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:d.cor})]})})})]},k)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-orange-200 p-4 rounded-xl flex justify-between items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>lt(`total-despesas-${v}`),children:[e.jsx("span",{className:"bg-orange-300 text-orange-800 font-bold px-4 py-2 rounded-lg min-w-0 flex-shrink-0",children:"Total de Despesas"}),e.jsxs("span",{className:"font-bold text-orange-800 text-lg ml-4 text-right",children:["R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),Ke.includes(`total-despesas-${v}`)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Ge,{data:p.despesasPorCategoria,children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"nome"}),e.jsx(Xe,{}),e.jsx(qe,{formatter:d=>[`R$ ${d.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),e.jsx(Te,{dataKey:"valor",fill:"#f97316"})]})})})]})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 text-lg mr-3",children:"üì¶"}),e.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Produtos Vendidos por ",v==="Semana"?"Dia":v==="M√™s"?"Semana":v==="Trimestre"?"M√™s":"Trimestre"]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",onClick:()=>lt(`produtos-${v}`),children:Ke.includes(`produtos-${v}`)?"Ocultar Gr√°fico":"Ver Gr√°fico"})]}),Ke.includes(`produtos-${v}`)&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Ge,{data:v==="Semana"?p.produtosPorDia:v==="M√™s"?p.produtosPorSemana:v==="Trimestre"?p.produtosPorMes:p.produtosPorTrimestre,children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(We,{dataKey:"nome"}),e.jsx(Xe,{}),e.jsx(qe,{}),e.jsx(bs,{}),e.jsx(Te,{dataKey:"vela_lavanda",fill:"#8b5cf6",name:"Vela Lavanda"}),e.jsx(Te,{dataKey:"vela_vanilla",fill:"#ec4899",name:"Vela Vanilla"}),e.jsx(Te,{dataKey:"kit_romance",fill:"#06b6d4",name:"Kit Romance"})]})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:["Resumo do ",v]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-sm font-bold text-green-600 mb-2",children:"Total Vendas"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[e.jsx("p",{className:"text-sm font-bold text-red-600 mb-2",children:"Total Despesas"}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:["R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:`text-center p-4 rounded-xl ${H>=0?"bg-green-50":"bg-red-50"}`,children:[e.jsx("p",{className:`text-sm font-bold mb-2 ${H>=0?"text-green-600":"text-red-600"}`,children:"Lucro L√≠quido"}),e.jsxs("p",{className:`text-xl font-bold ${H>=0?"text-green-600":"text-red-600"}`,children:["R$ ",H.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("div",{className:`mt-2 p-2 rounded-lg ${H>=0?"bg-green-100":"bg-red-100"}`,children:e.jsxs("p",{className:`text-xs font-bold ${H>=0?"text-green-600":"text-red-600"}`,children:["Margem: ",(H/h*100).toFixed(1),"%"]})})]}),e.jsxs("div",{className:`text-center p-4 rounded-xl ${H>=0?"bg-green-50":"bg-red-50"}`,children:[e.jsx("p",{className:`text-sm font-bold mb-2 ${H>=0?"text-green-600":"text-red-600"}`,children:"Status"}),e.jsx("div",{className:`inline-flex items-center px-3 py-2 rounded-lg ${H>=0?"bg-green-100":"bg-red-100"}`,children:e.jsx("span",{className:`text-sm font-bold ${H>=0?"text-green-600":"text-red-600"}`,children:H>=0?"üìà Positivo":"üìâ Negativo"})})]})]})]})]})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(nt,{className:"w-8 h-8 text-blue-600"}),"Relat√≥rios"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:ra,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Exportar PDF"]}),e.jsxs("button",{onClick:()=>alert("Ferramenta em constru√ß√£o"),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Novo Relat√≥rio"]})]})]}),ae("Relat√≥rio Semanal",L.semana,"Semana"),ae("Relat√≥rio Mensal",L.mes,"M√™s"),ae("Relat√≥rio Trimestral",L.trimestre,"Trimestre"),ae("Relat√≥rio Anual",L.ano,"Ano")]})},la=async()=>{try{const t=He.find(h=>h.indice===gt);if(!t){alert("M√™s selecionado n√£o encontrado!");return}const s=document.createElement("div");s.style.position="absolute",s.style.left="-9999px",s.style.top="-9999px",s.style.width="800px",s.style.backgroundColor="white",s.style.padding="20px",s.style.fontFamily="Arial, sans-serif";const a=gt,r=2025,l=A.filter(h=>{const D=new Date(h.date);return D.getMonth()===a&&D.getFullYear()===r}),m=l.filter(h=>h.type==="Receita").reduce((h,D)=>h+D.value,0),n=l.filter(h=>h.type==="Despesa").reduce((h,D)=>h+D.value,0),i=t.meta,g=m-n;s.innerHTML=`
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #f59e0b; font-size: 28px; margin: 0; font-weight: bold;">ALYA VELAS</h1>
          <h2 style="color: #374151; font-size: 24px; margin: 10px 0; font-weight: bold;">Relat√≥rio de Metas - ${t.nome} 2025</h2>
          <p style="color: #6b7280; font-size: 14px; margin: 0;">Gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}</p>
        </div>
        
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìä Resumo Executivo</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div style="background: #fffbeb; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
              <div style="font-weight: bold; color: #f59e0b; margin-bottom: 5px;">Meta de Faturamento</div>
              <div style="font-size: 18px; font-weight: bold; color: #d97706;">R$ ${i.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
            </div>
            <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
              <div style="font-weight: bold; color: #10b981; margin-bottom: 5px;">Faturamento Realizado</div>
              <div style="font-size: 18px; font-weight: bold; color: #059669;">R$ ${m.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
            </div>
            <div style="background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #ef4444;">
              <div style="font-weight: bold; color: #ef4444; margin-bottom: 5px;">Total de Despesas</div>
              <div style="font-size: 18px; font-weight: bold; color: #dc2626;">R$ ${n.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
            </div>
            <div style="background: ${g>=0?"#f0fdf4":"#fef2f2"}; padding: 15px; border-radius: 8px; border-left: 4px solid ${g>=0?"#10b981":"#ef4444"};">
              <div style="font-weight: bold; color: ${g>=0?"#10b981":"#ef4444"}; margin-bottom: 5px;">Resultado Financeiro</div>
              <div style="font-size: 18px; font-weight: bold; color: ${g>=0?"#059669":"#dc2626"};">R$ ${g.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
            </div>
          </div>
        </div>
        
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìà An√°lise de Performance</h3>
          <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
            <div style="margin-bottom: 15px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                <span style="font-weight: bold;">Meta vs Realizado:</span>
                <span style="font-weight: bold; color: ${m>=i?"#10b981":"#ef4444"};">${m>=i?"‚úÖ Meta Atingida":"‚ùå Meta N√£o Atingida"}</span>
              </div>
              <div style="background: #e2e8f0; height: 20px; border-radius: 10px; overflow: hidden;">
                <div style="background: ${m>=i?"#10b981":"#ef4444"}; height: 100%; width: ${i>0?Math.min(m/i*100,100):0}%; transition: width 0.3s ease;"></div>
              </div>
              <div style="text-align: center; margin-top: 5px; font-size: 14px; color: #6b7280;">
                ${i>0?(m/i*100).toFixed(1):0}% da meta
              </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Diferen√ßa da Meta:</div>
                <div style="font-size: 16px; color: ${m>=i?"#10b981":"#ef4444"}; font-weight: bold;">
                  R$ ${(m-i).toLocaleString("pt-BR",{minimumFractionDigits:2})}
                </div>
              </div>
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Margem de Lucro:</div>
                <div style="font-size: 16px; color: ${g>=0?"#10b981":"#ef4444"}; font-weight: bold;">
                  ${m>0?(g/m*100).toFixed(1):0}%
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div style="margin-bottom: 30px;">
          <h3 style="color: #f59e0b; font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #f59e0b; padding-bottom: 5px;">üìã Dados de Transa√ß√µes Reais</h3>
          <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Total de Transa√ß√µes:</div>
                <div style="font-size: 16px; color: #f59e0b; font-weight: bold;">${l.length} transa√ß√µes</div>
              </div>
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Receitas Reais:</div>
                <div style="font-size: 16px; color: #10b981; font-weight: bold;">R$ ${m.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Despesas Reais:</div>
                <div style="font-size: 16px; color: #ef4444; font-weight: bold;">R$ ${n.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
              <div>
                <div style="font-weight: bold; color: #374151; margin-bottom: 5px;">Meta de Faturamento:</div>
                <div style="font-size: 16px; color: #f59e0b; font-weight: bold;">R$ ${i.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>
              </div>
            </div>
          </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
          <p style="color: #6b7280; font-size: 12px; margin: 0;">
            Relat√≥rio gerado automaticamente pelo sistema Alya Velas<br>
            Dados baseados em metas e transa√ß√µes reais do m√™s<br>
            Para mais informa√ß√µes, acesse o painel administrativo
          </p>
        </div>
      `,document.body.appendChild(s);const x=await Et(s,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(s);const N=x.toDataURL("image/png"),J=new Pt("p","mm","a4"),T=210,L=295,ae=x.height*T/x.width;let j=ae,p=0;for(J.addImage(N,"PNG",0,p,T,ae),j-=L;j>=0;)p=j-ae,J.addPage(),J.addImage(N,"PNG",0,p,T,ae),j-=L;const v=`Metas_${t.nome}_2025_${new Date().toISOString().split("T")[0]}.pdf`;J.save(v),alert(`‚úÖ Relat√≥rio PDF exportado com sucesso!
Arquivo: ${v}

üìä Dados inclu√≠dos:
‚Ä¢ Meta de Faturamento: R$ ${i.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Faturamento Realizado: R$ ${m.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Total de Despesas: R$ ${n.toLocaleString("pt-BR",{minimumFractionDigits:2})}
‚Ä¢ Resultado Financeiro: R$ ${g.toLocaleString("pt-BR",{minimumFractionDigits:2})}`)}catch(t){console.error("Erro ao exportar PDF:",t),alert("‚ùå Erro ao exportar PDF. Tente novamente.")}},ia=()=>{const t=He.find(s=>s.indice===gt);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(Na,{className:"w-8 h-8 text-amber-600"}),"Metas"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:la,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-xl hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-5 w-5"}),"Exportar PDF"]}),e.jsxs("button",{onClick:()=>alert("Ferramenta em constru√ß√£o"),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ft,{className:"h-5 w-5"}),"Nova Meta"]})]})]}),t&&e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-400 p-6 rounded-2xl shadow-lg",children:e.jsx("select",{value:gt,onChange:s=>Rs(Number(s.target.value)),className:"w-full text-3xl font-bold text-white text-center uppercase tracking-wider bg-transparent border-none outline-none cursor-pointer",style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.2em 1.2em",paddingRight:"3rem"},children:He.map(s=>e.jsxs("option",{value:s.indice,className:"text-gray-800 bg-white normal-case text-lg font-normal",children:[s.nome," - 2025"]},s.indice))})}),us(t.nome,t.indice,t.meta,31970.5)]}),Zs(),He.map(s=>Xs(s.nome,s.indice,s.meta,31970.5))]})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50",children:[e.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50",children:[e.jsx("header",{className:"bg-white/95 backdrop-blur-md shadow-sm border-b border-amber-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/alya-logo.png",alt:"Alya Velas Logo",className:"w-10 h-10 mr-3 rounded-lg shadow-sm object-contain"}),e.jsxs("div",{className:"min-w-0 flex-shrink",children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Alya Velas"}),e.jsx("p",{className:"text-sm text-amber-600/70 font-medium break-words",children:"Sistema de Gest√£o Financeira"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx(es,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-800",children:w?.username}),e.jsx("span",{className:"text-xs text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:w?.role})]}),e.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm",title:"Sair",children:[e.jsx(ya,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Sair"})]})]})]})})}),e.jsx("nav",{className:"bg-white/90 backdrop-blur-sm shadow-sm border-b border-amber-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex items-center space-x-2 min-w-max",children:(()=>{const s=[{id:"dashboard",name:"Dashboard",icon:ja,key:"dashboard"},{id:"metas",name:"Metas",icon:Gt,key:"metas"},{id:"reports",name:"Relat√≥rios",icon:nt,key:"reports"},{id:"transactions",name:"Transa√ß√µes",icon:Ze,key:"transactions"},{id:"products",name:"Produtos",icon:Qt,key:"products"},{id:"clients",name:"Clientes",icon:es,key:"clients"}].filter(a=>!w?.modules||w.modules.length===0||w.role==="admin"?!0:w.modules.includes(a.key));return w?.role==="admin"&&s.push({id:"admin",name:"Admin",icon:Da,key:"admin"}),s.map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>{ee(a.id),os([])},className:`flex items-center px-6 pt-6 pb-4 text-sm font-medium rounded-t-xl transition-all duration-300 whitespace-nowrap ${K===a.id?"bg-gradient-to-r from-amber-400 to-orange-400 text-white shadow-lg":"text-amber-700 hover:text-amber-900 hover:bg-amber-50 rounded-t-lg"}`,children:[e.jsx(r,{className:"h-5 w-5 mr-2"}),a.name]},a.id)})})()})})})})]}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-[180px]",children:[K==="dashboard"&&Ws(),K==="metas"&&ia(),K==="transactions"&&ta(),K==="products"&&aa(),K==="reports"&&oa(),K==="clients"&&e.jsx(Ta,{}),K==="admin"&&e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Carregando painel administrativo..."})}),children:e.jsx(Aa,{})})]}),Ve&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t=>{t.target===t.currentTarget&&($e(!1),pt(null),Ee({name:"",category:"",price:"",cost:"",stock:"",sold:""}),Ue({name:!1,category:!1,price:!1,cost:!1,stock:!1,sold:!1}))},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(Qt,{className:"w-6 h-6 text-amber-700"}),Ct?"Editar Produto":"Novo Produto"]}),e.jsx("button",{onClick:()=>{$e(!1),pt(null),Ee({name:"",category:"",price:"",cost:"",stock:"",sold:""}),Ue({name:!1,category:!1,price:!1,cost:!1,stock:!1,sold:!1})},className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:"‚úï"})]})}),e.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!!Hs()){if(Ct)try{const s=await ye(Ct.id,{name:Y.name,category:Y.category,price:parseFloat(Y.price)||0,cost:parseFloat(Y.cost)||0,stock:parseInt(Y.stock)||0,sold:parseInt(Y.sold)||0});s&&fe(a=>a.map(r=>r.id===Ct.id?s:r))}catch(s){console.error("Erro ao atualizar produto:",s)}else try{const s=await ge({name:Y.name,category:Y.category,price:parseFloat(Y.price)||0,cost:parseFloat(Y.cost)||0,stock:parseInt(Y.stock)||0,sold:parseInt(Y.sold)||0});s&&fe(a=>[s,...a])}catch(s){console.error("Erro ao salvar produto:",s)}pt(null),$e(!1),Ee({name:"",category:"",price:"",cost:"",stock:"",sold:""})}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nome do Produto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",required:!0,value:Y.name,onChange:ht,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm ${jt.name?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-50 border-gray-200"}`,placeholder:"Ex: Vela Arom√°tica Lavanda"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Categoria ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"category",required:!0,value:Y.category,onChange:ht,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm ${jt.category?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-50 border-gray-200"}`,placeholder:"Ex: Velas Arom√°ticas"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pre√ßo de Venda (R$) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",required:!0,value:Y.price,onChange:ht,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm ${jt.price?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-50 border-gray-200"}`,placeholder:"0,00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Custo (R$)"}),e.jsx("input",{type:"number",name:"cost",step:"0.01",min:"0",value:Y.cost,onChange:ht,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm",placeholder:"0,00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estoque"}),e.jsx("input",{type:"number",name:"stock",min:"0",value:Y.stock,onChange:ht,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Quantidade Vendida"}),e.jsx("input",{type:"number",name:"sold",min:"0",value:Y.sold,onChange:ht,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white transition-all duration-200 shadow-sm",placeholder:"0"})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{$e(!1),pt(null),Ee({name:"",category:"",price:"",cost:"",stock:"",sold:""}),Ue({name:!1,category:!1,price:!1,cost:!1,stock:!1,sold:!1})},className:"flex-1 px-6 py-3 text-gray-700 bg-gradient-to-r from-gray-100 to-gray-200 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all duration-200 font-semibold shadow-sm",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:Ct?"Atualizar":"Salvar"})]})]})]})}),wt&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:t=>{t.target===t.currentTarget&&(Ce(!1),q({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),Be({date:!1,description:!1,value:!1,type:!1,category:!1}))},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(Ze,{className:"w-6 h-6 text-amber-700"}),st?"Editar Transa√ß√£o":"Nova Transa√ß√£o"]}),e.jsx("button",{onClick:()=>{Ce(!1),at(null),q({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),Be({date:!1,description:!1,value:!1,type:!1,category:!1}),rt(!1)},className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:"‚úï"})]})}),e.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!!Us()){if(st)try{const s=await f(st.id,{date:B.date,description:B.description,value:parseFloat(B.value)||0,type:B.type,category:B.category});s&&Se(a=>a.map(r=>r.id===st.id?s:r))}catch(s){console.error("Erro ao atualizar transa√ß√£o:",s)}else try{const s=await Z({date:B.date,description:B.description,value:parseFloat(B.value)||0,type:B.type,category:B.category});s&&Se(a=>[s,...a])}catch(s){console.error("Erro ao salvar transa√ß√£o:",s)}at(null),q({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),Ce(!1)}},className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Data ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"date",value:B.date?Kt(B.date):"",readOnly:!0,className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 focus:bg-white cursor-pointer ${je.date?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-100 border-gray-300"}`,placeholder:"Selecione uma data",onClick:is,required:!0}),e.jsx("button",{type:"button",onClick:is,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-amber-600 hover:text-amber-800 transition-colors",children:e.jsx(dt,{className:"w-5 h-5"})}),je.date&&e.jsx("div",{className:"absolute -bottom-8 left-0 z-50",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Preencha este campo."})]}),e.jsx("div",{className:"absolute -top-1 left-4 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-50"})]})})]}),xt&&_s()]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Descri√ß√£o ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"description",value:B.description,onChange:qt,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 focus:bg-white ${je.description?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-100 border-gray-300"}`,placeholder:"Digite a descri√ß√£o da transa√ß√£o...",required:!0}),je.description&&e.jsx("div",{className:"absolute -bottom-8 left-0 z-50",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Preencha este campo."})]}),e.jsx("div",{className:"absolute -top-1 left-4 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-50"})]})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Valor (R$) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",name:"value",value:B.value,onChange:qt,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 focus:bg-white ${je.value?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-100 border-gray-300"}`,placeholder:"0,00",step:"0.01",min:"0",required:!0}),je.value&&e.jsx("div",{className:"absolute -bottom-8 left-0 z-50",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Preencha este campo."})]}),e.jsx("div",{className:"absolute -top-1 left-4 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-50"})]})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"type",value:B.type,onChange:qt,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 focus:bg-white ${je.type?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-100 border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Selecione o tipo"}),e.jsx("option",{value:"Receita",children:"Receita"}),e.jsx("option",{value:"Despesa",children:"Despesa"})]}),je.type&&e.jsx("div",{className:"absolute -bottom-8 left-0 z-50",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Preencha este campo."})]}),e.jsx("div",{className:"absolute -top-1 left-4 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-50"})]})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Categoria ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"category",value:B.category,onChange:qt,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 focus:bg-white ${je.category?"bg-red-50 border-red-300 focus:ring-red-500":"bg-gray-100 border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Selecione uma categoria"}),Vt(B.type).map(t=>e.jsx("option",{value:t,children:t},t))]}),je.category&&e.jsx("div",{className:"absolute -bottom-8 left-0 z-50",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Preencha este campo."})]}),e.jsx("div",{className:"absolute -top-1 left-4 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-50"})]})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{Ce(!1),at(null),q({date:new Date().toISOString().split("T")[0],description:"",value:"",type:"Receita",category:""}),Be({date:!1,description:!1,value:!1,type:!1,category:!1}),rt(!1)},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all duration-200",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:st?"Atualizar":"Salvar"})]})]})]})}),Nt&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t=>{t.target===t.currentTarget&&(o(!1),W(null))},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-amber-700"}),"Importar/Exportar ",u==="transactions"?"Transa√ß√µes":"Produtos"]}),e.jsx("button",{onClick:()=>{o(!1),W(null)},className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:"‚úï"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 text-center",children:"Escolha uma das op√ß√µes abaixo para gerenciar seus dados:"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wa,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Primeiro baixe o modelo, depois importe!"})]}),e.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"Baixe o arquivo modelo, preencha com seus dados e depois fa√ßa o upload."}),e.jsxs("button",{onClick:async()=>{try{console.log("Baixando modelo para:",u);const t=await fetch(`${Q}/modelo/${u}`);if(t.ok){const s=await t.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`modelo-${u==="transactions"?"transacoes":"produtos"}.xlsx`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r),alert("Modelo baixado! Preencha o arquivo e depois importe.")}else throw new Error("Servidor offline")}catch(t){console.error("Servidor offline, criando modelo local:",t);let s="",a="";u==="transactions"?(s=`Data,Descri√ß√£o,Valor,Tipo,Categoria
`,s+=`2025-09-23,"Exemplo de venda",150.00,Entrada,Vendas
`,s+=`2025-09-23,"Exemplo de compra",75.50,Sa√≠da,Compras
`,s+='2025-09-23,"Exemplo de servi√ßo",200.00,Sa√≠da,Servi√ßos',a="modelo-transacoes.csv"):(s=`Nome,Categoria,Pre√ßo,Custo,Estoque,Vendido
`,s+=`Produto Exemplo 1,Eletr√¥nicos,299.90,150.00,25,8
`,s+=`Produto Exemplo 2,Roupas,89.90,45.00,50,15
`,s+="Produto Exemplo 3,Casa,149.90,75.00,10,3",a="modelo-produtos.csv");const r=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=window.URL.createObjectURL(r),m=document.createElement("a");m.href=l,m.download=a,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(l),document.body.removeChild(m),alert("Modelo CSV criado localmente! Preencha o arquivo e importe.")}},className:"w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx(be,{className:"w-4 h-4"}),"Baixar Modelo ",u==="transactions"?"de Transa√ß√µes":"de Produtos"]})]}),U?e.jsx("div",{className:"w-full p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(_t,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-green-800",children:"Arquivo selecionado:"}),e.jsx("div",{className:"text-sm text-green-600 truncate",children:U.name}),e.jsxs("div",{className:"text-xs text-green-500",children:["Tamanho: ",(U.size/1024).toFixed(1)," KB"]})]}),e.jsx("button",{onClick:()=>W(null),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-full transition-all",title:"Remover arquivo",children:"‚úï"})]})}):e.jsxs("button",{onClick:()=>{const t=document.createElement("input");t.type="file",t.accept=".xlsx",t.style.display="none",t.onchange=s=>{const a=s.target.files?.[0];a&&(a.name.toLowerCase().endsWith(".xlsx")?W(a):alert("Por favor, selecione apenas arquivos no formato .xlsx")),document.body.removeChild(t)},document.body.appendChild(t),t.click()},className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(_t,{className:"h-6 w-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold",children:"Selecionar Arquivo"}),e.jsx("div",{className:"text-sm opacity-90",children:"Carregar arquivo .xlsx"})]})]}),e.jsxs("button",{onClick:async()=>{try{Je(!0);const t=u==="transactions"?A:te;if(t.length===0){alert(`Nenhuma ${u==="transactions"?"transa√ß√£o":"produto"} encontrada para exportar!`);return}const s=await fetch(`${Q}/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:u,data:t})});if(s.ok){const a=await s.blob(),r=window.URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=`${u==="transactions"?"transacoes":"produtos"}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),alert(`Arquivo ${u==="transactions"?"de transa√ß√µes":"de produtos"} exportado com sucesso!`)}else{const a=await s.text();console.error("Erro do servidor:",a),alert(`Erro ao exportar arquivo: ${a}`)}}catch(t){console.error("Erro ao exportar:",t),alert(`Erro ao exportar arquivo: ${t instanceof Error?t.message:"Erro desconhecido"}`)}finally{Je(!1)}},className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-amber-400 to-orange-400 text-white font-semibold rounded-xl hover:from-amber-500 hover:to-orange-500 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[e.jsx(be,{className:"h-6 w-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold",children:"Exportar"}),e.jsx("div",{className:"text-sm opacity-90",children:"Salvar dados em arquivo"})]})]}),U&&e.jsx("button",{onClick:async()=>{Je(!0);try{const t=new FormData;t.append("file",U),t.append("type",u),console.log(`Enviando arquivo: ${U.name} (${u})`);try{const s={};y&&(s.Authorization=`Bearer ${y}`);const a=await fetch(`${Q}/import`,{method:"POST",headers:s,body:t});if(a.ok){const r=await a.json();if(console.log("Resposta do servidor:",r),u==="transactions"&&r.data)for(const l of r.data)try{const m=await Z({date:l.date,description:l.description,value:l.value,type:l.type,category:l.category});m&&Se(n=>[...n,m])}catch(m){console.error("Erro ao salvar transa√ß√£o:",m)}else if(u==="products"&&r.data)for(const l of r.data)try{const m=await ge({name:l.name,category:l.category,price:l.price,cost:l.cost,stock:l.stock,sold:l.sold});m&&fe(n=>[...n,m])}catch(m){console.error("Erro ao salvar produto:",m)}alert(`Arquivo "${U.name}" importado com sucesso!

${r.message||"Dados processados com sucesso."}`)}else{const r=await a.text();console.error("Erro do servidor:",r),alert(`Erro ao importar arquivo: ${r}`)}}catch(s){if(console.error("Erro de conex√£o com servidor:",s),console.log("Servidor n√£o dispon√≠vel, usando dados de exemplo..."),u==="transactions"){const a=[{id:(Date.now()+1).toString(),date:new Date().toISOString().split("T")[0],description:"Transa√ß√£o Importada 1",value:150,type:"Receita",category:"Vendas",createdAt:new Date},{id:(Date.now()+2).toString(),date:new Date().toISOString().split("T")[0],description:"Transa√ß√£o Importada 2",value:75,type:"Despesa",category:"Compras",createdAt:new Date}];Se(l=>[...l,...a]),F().setItem("transactions",JSON.stringify([...A,...a])),alert(`Arquivo "${U.name}" processado localmente!

${a.length} transa√ß√µes adicionadas como exemplo.`)}else if(u==="products"){const a=[{id:(Date.now()+1).toString(),name:"Produto Importado 1",category:"Importados",price:120,cost:60,stock:15,sold:3},{id:(Date.now()+2).toString(),name:"Produto Importado 2",category:"Importados",price:80,cost:40,stock:25,sold:8}];fe(l=>[...l,...a]),F().setItem("products",JSON.stringify([...te,...a])),alert(`Arquivo "${U.name}" processado localmente!

${a.length} produtos adicionados como exemplo.`)}}}catch(t){console.error("Erro na requisi√ß√£o:",t),alert(`Erro ao enviar arquivo: ${t instanceof Error?t.message:"Erro desconhecido"}`)}finally{Je(!1)}W(null),o(!1)},disabled:_e,className:`w-full px-6 py-3 font-semibold rounded-lg shadow-lg transition-all duration-200 ${_e?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600 hover:shadow-xl transform hover:-translate-y-0.5"}`,children:_e?"Enviando arquivo...":"Importar Arquivo"}),e.jsx("button",{onClick:()=>{o(!1),W(null)},className:"w-full px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all duration-200",children:"Cancelar"})]})]})}),At&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t=>{t.target===t.currentTarget&&Pe(!1)},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-amber-700"}),"Exportar Relat√≥rio PDF"]}),e.jsx("button",{onClick:()=>Pe(!1),className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:e.jsx(yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700 text-center mb-6",children:"Selecione o per√≠odo que deseja exportar:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:()=>kt("Semana"),className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 border-2 border-amber-200 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Semana"})]}),e.jsx(et,{className:"w-5 h-5 text-amber-600"})]}),e.jsxs("button",{onClick:()=>kt("M√™s"),className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 border-2 border-amber-200 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"M√™s"})]}),e.jsx(et,{className:"w-5 h-5 text-amber-600"})]}),e.jsxs("button",{onClick:()=>kt("Trimestre"),className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 border-2 border-amber-200 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Trimestre"})]}),e.jsx(et,{className:"w-5 h-5 text-amber-600"})]}),e.jsxs("button",{onClick:()=>kt("Ano"),className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 border-2 border-amber-200 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Ano"})]}),e.jsx(et,{className:"w-5 h-5 text-amber-600"})]}),e.jsxs("button",{onClick:()=>kt("Todos"),className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white border-2 border-amber-400 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg font-semibold",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:"Todos os Per√≠odos"})]}),e.jsx(et,{className:"w-5 h-5"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>Pe(!1),className:"w-full py-2 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all",children:"Cancelar"})})]})]})}),Jt&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t=>{t.target===t.currentTarget&&ue(!1)},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-amber-700"}),"Exportar Transa√ß√µes em PDF"]}),e.jsx("button",{onClick:()=>ue(!1),className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:e.jsx(yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-700 text-sm",children:"Configure as op√ß√µes de exporta√ß√£o:"}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"exportarFiltradas",checked:Ne,onChange:t=>Ye(t.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"exportarFiltradas",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Exportar apenas transa√ß√µes filtradas"}),e.jsx("p",{className:"text-sm text-gray-600",children:Ne?"Ser√£o exportadas apenas as transa√ß√µes que est√£o vis√≠veis na lista (com filtros aplicados).":"Todas as transa√ß√µes ser√£o exportadas, independente dos filtros ativos."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"incluirResumo",checked:Ae,onChange:t=>Mt(t.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"incluirResumo",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Incluir resumo financeiro"}),e.jsx("p",{className:"text-sm text-gray-600",children:Ae?"O PDF incluir√° um resumo com totais de receitas, despesas, saldo e quantidade de transa√ß√µes.":"Apenas a tabela de transa√ß√µes ser√° inclu√≠da no PDF."})]})]}),($.type||$.category||$.dateFrom||$.dateTo)&&Ne&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Filtros ativos:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[$.type&&e.jsxs("li",{children:["‚Ä¢ Tipo: ",$.type]}),$.category&&e.jsxs("li",{children:["‚Ä¢ Categoria: ",$.category]}),$.dateFrom&&e.jsxs("li",{children:["‚Ä¢ Data in√≠cio: ",new Date($.dateFrom).toLocaleDateString("pt-BR")]}),$.dateTo&&e.jsxs("li",{children:["‚Ä¢ Data fim: ",new Date($.dateTo).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-2 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all font-medium",children:"Cancelar"}),e.jsx("button",{onClick:ea,className:"flex-1 py-2 px-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Exportar PDF"})]})]})]})}),ct&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-amber-900/50 to-orange-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t=>{t.target===t.currentTarget&&Me(!1)},children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200/50",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 -mx-6 -mt-6 mb-6 px-6 py-4 border-b border-amber-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-amber-700"}),"Exportar Produtos em PDF"]}),e.jsx("button",{onClick:()=>Me(!1),className:"text-amber-600 hover:text-amber-800 hover:bg-amber-100 p-2 rounded-full transition-all",children:e.jsx(yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-700 text-sm",children:"Configure as op√ß√µes de exporta√ß√£o:"}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"exportarFiltrados",checked:ke,onChange:t=>mt(t.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"exportarFiltrados",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Exportar apenas produtos filtrados"}),e.jsx("p",{className:"text-sm text-gray-600",children:ke?"Ser√£o exportados apenas os produtos que est√£o vis√≠veis na lista (com filtros aplicados).":"Todos os produtos ser√£o exportados, independente dos filtros ativos."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx("input",{type:"checkbox",id:"incluirResumoProdutos",checked:Fe,onChange:t=>Dt(t.target.checked),className:"mt-1 w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 focus:ring-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"incluirResumoProdutos",className:"font-semibold text-gray-800 cursor-pointer block mb-1",children:"Incluir resumo estat√≠stico"}),e.jsx("p",{className:"text-sm text-gray-600",children:Fe?"O PDF incluir√° um resumo com totais de estoque, custos, lucro potencial, margem m√©dia e distribui√ß√£o por categoria.":"Apenas a tabela de produtos ser√° inclu√≠da no PDF."})]})]}),(z.category||z.stockFilter||z.soldFilter||z.costFilter)&&ke&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Filtros ativos:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[z.category&&e.jsxs("li",{children:["‚Ä¢ Categoria: ",z.category]}),z.stockFilter==="inStock"&&e.jsx("li",{children:"‚Ä¢ Em estoque"}),z.stockFilter==="outOfStock"&&e.jsx("li",{children:"‚Ä¢ Sem estoque"}),z.soldFilter==="sold"&&e.jsx("li",{children:"‚Ä¢ Vendidos"}),z.soldFilter==="notSold"&&e.jsx("li",{children:"‚Ä¢ N√£o vendidos"}),z.costFilter==="withCost"&&e.jsx("li",{children:"‚Ä¢ Com pre√ßo de custo"}),z.costFilter==="withoutCost"&&e.jsx("li",{children:"‚Ä¢ Sem pre√ßo de custo"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>Me(!1),className:"flex-1 py-2 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all font-medium",children:"Cancelar"}),e.jsx("button",{onClick:sa,className:"flex-1 py-2 px-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Exportar PDF"})]})]})]})})]})};function Ba(){return e.jsx(La,{children:e.jsx(Ma,{})})}ka.createRoot(document.getElementById("root")).render(e.jsx(pa.StrictMode,{children:e.jsx(Ba,{})}));export{Q as A,Pa as a,e as j,as as u};
